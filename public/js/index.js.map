{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/index.js","src/js/modules/search.mjs","src/js/modules/utils.mjs","src/js/web-components/schedule.mjs","src/js/web-components/urgent-announcement.mjs"],"names":[],"mappings":"AAAA;;;;;ACAA;;AACA;;AACA;;AACA;;;;;;;;AAEA,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,MAAvB,EAA+B,EAA/B,CAAkC,WAAlC,EAAb,C,CAGA;;AACA,IAAI,IAAI,KAAK,WAAb,EAA0B;AACtB,MAAM,cAAc,GAAG,QAAQ,CAAC,cAAT,CAAwB,UAAxB,CAAvB;AACA,EAAA,cAAc,CAAC,MAAf;AACA,MAAM,kBAAkB,GAAG,QAAQ,CAAC,aAAT,CAAuB,qBAAvB,CAA3B;AACA,EAAA,QAAQ,CAAC,aAAT,CAAuB,MAAvB,EAA+B,YAA/B,CAA4C,QAAQ,CAAC,aAAT,CAAuB,iBAAvB,CAA5C,EAAuF,kBAAkB,CAAC,WAA1G;AACA;AACH,C,CAGD;;;AACA,IAAM,MAAM,GAAG,EAAE,EAAjB,C,CAEA;;AACA,MAAM,CAAC,IAAP,CAAY,MAAZ,EAAoB,IAApB,E,CAEA;;AACA,MAAM,CAAC,EAAP,CAAU,qBAAV,EAAiC,UAAA,YAAY,EAAI;AAC7C,MAAM,kBAAkB,GAAG,QAAQ,CAAC,aAAT,CAAuB,qBAAvB,CAA3B;;AAEA,MAAI,KAAK,CAAC,MAAN,CAAa,CAAC,kBAAD,CAAb,CAAJ,EAAwC;AACpC,IAAA,kBAAkB,CAAC,YAAnB,CAAgC,SAAhC,EAA2C,YAAY,CAAC,KAAxD;AACA,IAAA,kBAAkB,CAAC,YAAnB,CAAgC,KAAhC,EAAuC,YAAY,CAAC,UAApD;AACH;AACJ,CAPD,E,CAYA;;AACA,IAAM,QAAQ,GAAG,QAAQ,CAAC,cAAT,CAAwB,WAAxB,CAAjB;AACA,IAAM,IAAI,GAAG,QAAQ,CAAC,cAAT,CAAwB,MAAxB,CAAb;;AAEA,IAAI,KAAK,CAAC,MAAN,CAAa,CAAC,QAAD,EAAW,IAAX,CAAb,CAAJ,EAAoC;AAEhC;AACA,EAAA,QAAQ,CAAC,gBAAT,CAA0B,OAA1B,EAAmC,YAAM;AACrC,IAAA,IAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,MAAtB;AACH,GAFD;AAGH,C,CAKD;;;AACA,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAT,CAAwB,YAAxB,CAAlB;AACA,IAAM,eAAe,GAAG,QAAQ,CAAC,cAAT,CAAwB,cAAxB,CAAxB;AACA,IAAM,UAAU,GAAG,QAAQ,CAAC,aAAT,CAAuB,sCAAvB,CAAnB;;AAEA,IAAI,KAAK,CAAC,MAAN,CAAa,CAAC,SAAD,EAAY,eAAZ,EAA6B,UAA7B,CAAb,CAAJ,EAA4D;AAExD;AACA,EAAA,SAAS,CAAC,gBAAV,CAA2B,OAA3B,EAAoC;AAAA,WAAM,MAAM,CAAC,SAAP,EAAN;AAAA,GAApC;AACA,EAAA,SAAS,CAAC,gBAAV,CAA2B,MAA3B,EAAmC;AAAA,WAAM,MAAM,CAAC,SAAP,EAAN;AAAA,GAAnC,EAJwD,CAOxD;;AACA,EAAA,eAAe,CAAC,gBAAhB,CAAiC,OAAjC,EAA0C,UAAA,CAAC;AAAA,WAAI,MAAM,CAAC,KAAP,CAAa,CAAb,CAAJ;AAAA,GAA3C,EARwD,CAWxD;;AACA,EAAA,UAAU,CAAC,gBAAX,CAA4B,OAA5B,EAAqC,UAAA,CAAC,EAAI;AACtC,QAAI,SAAS,CAAC,KAAV,KAAoB,EAAxB,EAA4B;AACxB,MAAA,MAAM,CAAC,KAAP,CAAa,CAAb;AACH;AACJ,GAJD,EAZwD,CAmBxD;;AACA,EAAA,QAAQ,CAAC,gBAAT,CAA0B,UAA1B,EAAsC,UAAA,CAAC,EAAI;AACvC,YAAQ,CAAC,CAAC,GAAV;AACI,WAAK,GAAL;AACI,QAAA,MAAM,CAAC,KAAP,CAAa,CAAb,EADJ,CACoB;;AAChB;AAHR;AAKH,GAND;AAOH;;;;;;;;;;;;ACpFD,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAT,CAAwB,YAAxB,CAAlB;AACA,IAAM,eAAe,GAAG,QAAQ,CAAC,cAAT,CAAwB,cAAxB,CAAxB;;AAEO,SAAS,KAAT,CAAe,CAAf,EAAkB;AACrB,EAAA,CAAC,CAAC,cAAF;AACA,EAAA,SAAS,CAAC,KAAV;AACH;;AAEM,SAAS,SAAT,GAAqB;AACxB,EAAA,eAAe,CAAC,SAAhB,CAA0B,MAA1B,CAAiC,MAAjC;AACH;;AAEM,SAAS,SAAT,GAAqB;AACxB,MAAI,SAAS,CAAC,KAAV,KAAoB,EAAxB,EAA4B;AACxB,IAAA,eAAe,CAAC,SAAhB,CAA0B,GAA1B,CAA8B,MAA9B;AACH;AACJ;;AAEM,SAAS,KAAT,CAAe,CAAf,EAAkB;AACrB,EAAA,SAAS,CAAC,KAAV,GAAkB,EAAlB;AACA,EAAA,KAAK,CAAC,CAAD,CAAL;AACH;;;;;;;;;;;;;;;;;;;;;;;;;ACrBM,SAAS,MAAT,OAAgC;AAAA;AAAA,MAAZ,SAAY;;AACnC,MAAM,MAAM,GAAG,SAAS,CAAC,KAAV,CAAgB,UAAA,QAAQ;AAAA,WAAI,QAAQ,IAAI,IAAhB;AAAA,GAAxB,CAAf;AACA,SAAO,MAAP;AACH;;AAGM,SAAS,eAAT,CAAyB,IAAzB,EAA+B,IAA/B,EAAqC;AACxC,EAAA,YAAY,CAAC,OAAb,CAAqB,IAArB,EAA2B,IAAI,CAAC,SAAL,CAAe,IAAf,CAA3B;AACH;;AAGM,SAAS,eAAT,CAAyB,IAAzB,EAA+B;AAClC,SAAO,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,IAArB,CAAX,CAAP;AACH;;AAKM,SAAS,gBAAT,CAA0B,IAA1B,EAAgC;AAAE;AACrC,MAAI,OAAJ;;AACA,MAAI;AACA,IAAA,OAAO,GAAG,MAAM,CAAC,IAAD,CAAhB;AACA,QAAI,CAAC,GAAG,kBAAR;AACA,IAAA,OAAO,CAAC,OAAR,CAAgB,CAAhB,EAAmB,CAAnB;AACA,IAAA,OAAO,CAAC,UAAR,CAAmB,CAAnB;AACA,WAAO,IAAP;AACH,GAND,CAME,OAAO,CAAP,EAAU;AACR,WAAO,CAAC,YAAY,YAAb,KACC,CAAC,CAAC,IAAF,KAAW,EAAX,IACA,CAAC,CAAC,IAAF,KAAW,IADX,IAEA,CAAC,CAAC,IAAF,KAAW,oBAFX,IAGA,CAAC,CAAC,IAAF,KAAW,4BAJZ,KAKF,OAAO,IAAI,OAAO,CAAC,MAAR,KAAmB,CALnC;AAMH;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCD,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAT,CAAuB,UAAvB,CAAjB;AACA,QAAQ,CAAC,SAAT;;AAyEA,SAAS,IAAT,GAAgB;AAAA,MACN,QADM;AAAA;;AAAA;;AAGR,wBAAc;AAAA;;AAAA;;AACV;;AAEA,YAAK,YAAL,CAAkB;AAAE,QAAA,IAAI,EAAE;AAAR,OAAlB;;AACA,YAAK,UAAL,CAAgB,WAAhB,CAA4B,QAAQ,CAAC,OAAT,CAAiB,SAAjB,CAA2B,IAA3B,CAA5B;;AAEA,YAAK,IAAL,GAAY,MAAK,OAAL,GACP,IADO,CACF,UAAA,IAAI,EAAI;AACV,cAAK,cAAL,CAAoB,IAAI,CAAC,CAAD,CAAxB;;AACA,cAAK,IAAL,GAAY,IAAZ;AACH,OAJO,CAAZ;AAMA,YAAK,SAAL,GAAiB,MAAK,UAAL,CAAgB,cAAhB,CAA+B,WAA/B,CAAjB;AACA,YAAK,aAAL,GAAqB,MAAK,SAAL,CAAe,aAAf,CAA6B,8BAA7B,CAArB;AACA,YAAK,SAAL,GAAiB,MAAK,SAAL,CAAe,aAAf,CAA6B,6BAA7B,CAAjB;;AAEA,YAAK,SAAL,CAAe,gBAAf,CAAgC,OAAhC,EAAyC;AAAA,eAAM,MAAK,QAAL,CAAc,MAAd,CAAN;AAAA,OAAzC;;AACA,YAAK,aAAL,CAAmB,gBAAnB,CAAoC,OAApC,EAA6C;AAAA,eAAM,MAAK,QAAL,CAAc,UAAd,CAAN;AAAA,OAA7C;;AACA,YAAK,KAAL,GAAa,CAAb;AAlBU;AAmBb;;AAtBO;AAAA;AAAA,gCAwBE;AACN,YAAM,OAAO,GAAG;AACZ,UAAA,MAAM,EAAE,KADI;AAEZ,UAAA,OAAO,EAAE;AACL,4BAAgB;AADX;AAFG,SAAhB;AAOA,eAAO,KAAK,CAAC,WAAD,EAAc,OAAd,CAAL,CACF,IADE,CACG,UAAA,GAAG;AAAA,iBAAI,GAAG,CAAC,IAAJ,EAAJ;AAAA,SADN,CAAP;AAEH;AAlCO;AAAA;AAAA,qCAoCO,IApCP,EAoCa;AACjB,YAAM,kBAAkB,GAAG,KAAK,UAAL,CAAgB,cAAhB,CAA+B,qBAA/B,CAA3B;AACA,QAAA,kBAAkB,CAAC,WAAnB,GAAiC,EAAjC;AAEA,aAAK,SAAL,CAAe,aAAf,CAA6B,MAA7B,EAAqC,WAArC,aAAsD,IAAI,CAAC,GAA3D,cAAkE,IAAI,CAAC,KAAvE,cAAgF,IAAI,CAAC,IAArF;AAEA,QAAA,IAAI,CAAC,SAAL,CAAe,OAAf,CAAuB,UAAA,QAAQ,EAAI;AAC/B,cAAM,SAAS,GAAG,QAAQ,CAAC,SAAT,GAAqB,QAAQ,CAAC,SAAT,CAAmB,KAAnB,CAAyB,CAAzB,EAA4B,YAAjD,GAAgE,aAAlF;AAEA,cAAM,GAAG,GAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAZ;AACA,UAAA,GAAG,CAAC,SAAJ,CAAc,GAAd,CAAkB,iBAAlB;AACA,UAAA,kBAAkB,CAAC,WAAnB,CAA+B,GAA/B;AAEA,cAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAb;AACA,UAAA,IAAI,CAAC,WAAL,aAAsB,QAAQ,CAAC,aAAT,CAAuB,IAA7C,gBAAuD,QAAQ,CAAC,WAAT,CAAqB,IAA5E;AACA,UAAA,GAAG,CAAC,WAAJ,CAAgB,IAAhB;AAEA,cAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAb;AACA,UAAA,IAAI,CAAC,WAAL,GAAmB,QAAQ,CAAC,MAAT,CAAgB,OAAhB,CAAwB,CAAxB,EAA2B,KAA9C;AACA,UAAA,GAAG,CAAC,WAAJ,CAAgB,IAAhB;AAEA,cAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAb;AACA,UAAA,IAAI,CAAC,WAAL,GAAmB,SAAnB;AACA,UAAA,GAAG,CAAC,WAAJ,CAAgB,IAAhB;AAEA,cAAM,OAAO,GAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAhB;AACA,UAAA,OAAO,CAAC,WAAR,GAAsB,QAAQ,CAAC,MAAT,CAAgB,SAAhB,CAA0B,CAA1B,EAA6B,KAAnD;AACA,UAAA,GAAG,CAAC,WAAJ,CAAgB,OAAhB;AACH,SAtBD;AAuBH;AAjEO;AAAA;AAAA,+BAmEC,SAnED,EAmEY;AAChB,QAAA,SAAS,KAAK,UAAd,GAA2B,KAAK,KAAL,EAA3B,GAA0C,KAAK,KAAL,EAA1C;AAEA,aAAK,KAAL,KAAe,CAAf,GAAmB,KAAK,aAAL,CAAmB,SAAnB,CAA6B,GAA7B,CAAiC,UAAjC,CAAnB,GAAkE,KAAK,aAAL,CAAmB,SAAnB,CAA6B,MAA7B,CAAoC,UAApC,CAAlE;AACA,aAAK,KAAL,KAAe,CAAf,GAAmB,KAAK,SAAL,CAAe,SAAf,CAAyB,GAAzB,CAA6B,UAA7B,CAAnB,GAA8D,KAAK,SAAL,CAAe,SAAf,CAAyB,MAAzB,CAAgC,UAAhC,CAA9D;AAEA,aAAK,cAAL,CAAoB,KAAK,IAAL,CAAU,KAAK,KAAf,CAApB;AACH;AA1EO;;AAAA;AAAA,mCACW,WADX;;AA6EZ,EAAA,MAAM,CAAC,cAAP,CAAsB,MAAtB,CAA6B,iBAA7B,EAAgD,QAAhD;AACH;;;;;;;;;;AC1JD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAT,CAAuB,UAAvB,CAAjB;;AACA,QAAQ,CAAC,SAAT;;IAsCM,kB;;;;;AAEF,gCAAc;AAAA;;AAAA;;AACV;;AAEA,UAAK,YAAL,CAAkB;AAAE,MAAA,IAAI,EAAE;AAAR,KAAlB;;AACA,UAAK,UAAL,CAAgB,WAAhB,CAA4B,QAAQ,CAAC,OAAT,CAAiB,SAAjB,CAA2B,IAA3B,CAA5B;;AACA,UAAK,UAAL,CAAgB,aAAhB,CAA8B,GAA9B,EAAmC,WAAnC,GAAiD,MAAK,YAAL,CAAkB,SAAlB,CAAjD;;AACA,UAAK,UAAL,CAAgB,aAAhB,CAA8B,KAA9B,EAAqC,gBAArC,CAAsD,OAAtD,EAA+D,YAAM;AACjE,YAAK,IAAL;;AACA,YAAK,KAAL;AACH,KAHD;;AANU;AAUb;;;;6CAMwB,I,EAAM,Q,EAAU,Q,EAAU;AAC/C,UAAI,QAAQ,IAAI,QAAZ,IAAwB,QAAQ,IAAI,EAAxC,EAA4C;AACxC,YAAM,GAAG,GAAG,KAAK,YAAL,CAAkB,KAAlB,CAAZ;AACA,YAAM,aAAa,GAAG,KAAK,CAAC,eAAN,CAAsB,cAAtB,CAAtB;;AACA,YAAI,aAAJ,EAAmB;AACf,cAAI,CAAC,aAAa,CAAC,QAAd,CAAuB,GAAvB,CAAL,EAAkC;AAC9B,iBAAK,aAAL;AACA,iBAAK,IAAL;AACH;AACJ,SALD,MAKO;AACH,eAAK,aAAL;AACA,eAAK,IAAL;AACH;AACJ;AACJ;;;oCAEe;AACZ,WAAK,UAAL,CAAgB,aAAhB,CAA8B,GAA9B,EAAmC,WAAnC,GAAiD,KAAK,YAAL,CAAkB,SAAlB,CAAjD;AACH;;;2BAEM;AACH,WAAK,UAAL,CAAgB,aAAhB,CAA8B,KAA9B,EAAqC,SAArC,CAA+C,MAA/C,CAAsD,MAAtD;AACA,MAAA,QAAQ,CAAC,aAAT,CAAuB,MAAvB,EAA+B,SAA/B,CAAyC,GAAzC,CAA6C,mBAA7C;AACH;;;2BAEM;AACH,WAAK,UAAL,CAAgB,aAAhB,CAA8B,KAA9B,EAAqC,SAArC,CAA+C,GAA/C,CAAmD,MAAnD;AACA,MAAA,QAAQ,CAAC,aAAT,CAAuB,MAAvB,EAA+B,SAA/B,CAAyC,MAAzC,CAAgD,mBAAhD;AACH;;;4BAEO;AACJ,UAAI,KAAK,CAAC,gBAAN,CAAuB,cAAvB,CAAJ,EAA4C;AACxC,YAAM,aAAa,GAAG,KAAK,CAAC,eAAN,CAAsB,cAAtB,CAAtB;AACA,YAAM,WAAW,GAAG,aAAa,GAAG,aAAH,GAAmB,EAApD;AAEA,QAAA,WAAW,CAAC,IAAZ,CAAiB,KAAK,YAAL,CAAkB,KAAlB,CAAjB;AACA,QAAA,KAAK,CAAC,eAAN,CAAsB,cAAtB,EAAsC,WAAtC;AACH;AACJ;;;wBA1C+B;AAC5B,aAAO,CAAC,KAAD,CAAP;AACH;;;;iCAhB4B,W;;AA2DjC,MAAM,CAAC,cAAP,CAAsB,MAAtB,CAA6B,qBAA7B,EAAoD,kBAApD","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as utils from './modules/utils.mjs'\nimport * as search from './modules/search.mjs'\nimport urgentAnnouncement from './web-components/urgent-announcement.mjs'\nimport { WC_scheduleWidget } from './web-components/schedule.mjs'\n\nconst page = document.querySelector('main').id.toLowerCase()\n\n\n//init dashboard\nif (page === 'dashboard') {\n    const scheduleWidget = document.getElementById('schedule')\n    scheduleWidget.remove()\n    const urgentNotification = document.querySelector('urgent-announcement')\n    document.querySelector('main').insertBefore(document.createElement('schedule-widget'), urgentNotification.nextSibling)\n    WC_scheduleWidget()\n}\n\n\n//urgent announcements\nconst socket = io()\n\n//subscribe to urgent-announcements\nsocket.emit('join', page)\n\n//on urgent-announcement hook update interface (see WC_urgentAnnouncement)\nsocket.on('urgent-announcement', announcement => {\n    const urgentAnnouncement = document.querySelector('urgent-announcement')\n\n    if (utils.exists([urgentAnnouncement])) {\n        urgentAnnouncement.setAttribute('message', announcement.title)\n        urgentAnnouncement.setAttribute('uid', announcement.newsItemId)\n    }\n})\n\n\n\n\n//menu \nconst menuIcon = document.getElementById('menu-icon')\nconst menu = document.getElementById('menu')\n\nif (utils.exists([menuIcon, menu])) {\n\n    //toggle menu (on mobile)\n    menuIcon.addEventListener('click', () => {\n        menu.classList.toggle('hide')\n    })\n}\n\n\n\n\n//search \nconst searchBar = document.getElementById('search-bar')\nconst searchResetIcon = document.getElementById('search-reset')\nconst searchIcon = document.querySelector('#search-container input[type=submit]')\n\nif (utils.exists([searchBar, searchResetIcon, searchIcon])) {\n\n    //control search-reset icon \n    searchBar.addEventListener('focus', () => search.showReset())\n    searchBar.addEventListener('blur', () => search.hideReset())\n\n\n    //reset search input\n    searchResetIcon.addEventListener('click', e => search.reset(e))\n\n\n    //depending on search-query either give focus to searchbar or submit search-query\n    searchIcon.addEventListener('click', e => {\n        if (searchBar.value === \"\") {\n            search.focus(e)\n        }\n    })\n\n\n    //listen to keyboard input\n    document.addEventListener('keypress', e => {\n        switch (e.key) {\n            case \"/\":\n                search.focus(e) //give searchbar focus and hide search-reset icon\n                break\n        }\n    })\n}","const searchBar = document.getElementById('search-bar')\nconst searchResetIcon = document.getElementById('search-reset')\n\nexport function focus(e) {\n    e.preventDefault()\n    searchBar.focus()\n}\n\nexport function showReset() {\n    searchResetIcon.classList.remove('hide')\n}\n\nexport function hideReset() {\n    if (searchBar.value === \"\") {\n        searchResetIcon.classList.add('hide')\n    }\n}\n\nexport function reset(e) {\n    searchBar.value = \"\"\n    focus(e)\n}","export function exists([...variables]) {\n    const exists = variables.every(variable => variable != null)\n    return exists\n}\n\n\nexport function setLocalStorage(name, item) {\n    localStorage.setItem(name, JSON.stringify(item))\n}\n\n\nexport function getLocalStorage(item) {\n    return JSON.parse(localStorage.getItem(item))\n}\n\n\n\n\nexport function storageAvailable(type) { //source: https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\n    let storage\n    try {\n        storage = window[type]\n        let x = '__storage_test__'\n        storage.setItem(x, x)\n        storage.removeItem(x)\n        return true\n    } catch (e) {\n        return e instanceof DOMException && (\n                e.code === 22 ||\n                e.code === 1014 ||\n                e.name === 'QuotaExceededError' ||\n                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n            (storage && storage.length !== 0)\n    }\n}","export { init as WC_scheduleWidget }\n\nconst template = document.createElement('template')\ntemplate.innerHTML = `\n<style>\nh2 {\n    font-size: 24px;\n    color: #25167A;\n    text-transform: uppercase;\n    padding-bottom: 8px;\n    border-bottom: 1px solid #DDDDDD;\n    margin: 0 0 15px 0;\n\tfont-family: \"OpenSans-Regular\", sans-serif, Arial, Helvetica;\n\tfont-weight: lighter;\n\tline-height: 1.1;\n}\np {\n\tmargin: 0;\n}\n#navigator {\n    background-color: #DDDDDD;\n    padding: 15px 20px;\n    display: flex;\n    justify-content: space-between;\n    color: #25167A;\n    font-size: 16px;\n}\n\n#navigator img:not(.disabled) {\n    cursor: pointer;\n}\n\n#navigator img.disabled {\n    pointer-events: none;\n    opacity: .5;\n}\n\n.schedule-course {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    grid-column-gap: 20px;\n    grid-row-gap: 5px;\n    padding: 15px 20px;\n    border-bottom: 1px solid #DDDDDD;\n}\n\n.schedule-course p:first-of-type,\n.schedule-course p:nth-of-type(3) {\n    font-family: \"OpenSans-Bold\", sans-serif, Arial, Helvetica;\n}\n\na {\n    margin-top: 30px;\n    text-decoration: none;\n    color: #25167A;\n    display: flex;\n    align-items: center;\n}\n\na img {\n    height: 12px;\n    margin-left: 20px;\n}\n</style>\n<h2>Dagrooster</h2>\n<div id=\"navigator\">\n\t<img src=\"/media/icons/arrow-left.svg\" alt=\"arrow-left\" class=\"disabled\"></img>\n\t<span></span>\n\t<img src=\"/media/icons/arrow-right.svg\" alt=\"arrow-right\"></img>\n</div>\n<div id=\"schedules-container\"></div>\n<a target=\"_blank\" href=\"https://rooster.hva.nl/schedule\">Volledig rooster\n\t<img src=\"/media/icons/arrow-right.svg\" alt=\"arrow-right\"></img>\n</a>\n`\n\nfunction init() {\n    class schedule extends HTMLElement {\n\n        constructor() {\n            super()\n\n            this.attachShadow({ mode: 'open' })\n            this.shadowRoot.appendChild(template.content.cloneNode(true))\n\n            this.data = this.getData()\n                .then(json => {\n                    this.updateSchedule(json[0])\n                    this.data = json\n                })\n\n            this.navigator = this.shadowRoot.getElementById('navigator')\n            this.arrowPrevious = this.navigator.querySelector('#navigator img:first-of-type')\n            this.arrowNext = this.navigator.querySelector('#navigator img:last-of-type')\n\n            this.arrowNext.addEventListener('click', () => this.navigate('next'))\n            this.arrowPrevious.addEventListener('click', () => this.navigate('previous'))\n            this.index = 0\n        }\n\n        getData() {\n            const options = {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }\n\n            return fetch('/schedule', options)\n                .then(res => res.json())\n        }\n\n        updateSchedule(data) {\n            const schedulesContainer = this.shadowRoot.getElementById('schedules-container')\n            schedulesContainer.textContent = \"\"\n\n            this.navigator.querySelector('span').textContent = `${data.day}-${data.month}-${data.year}`\n\n            data.schedules.forEach(schedule => {\n                const classRoom = schedule._embedded ? schedule._embedded.rooms[0].abbreviation : \"Geen lokaal\"\n\n                const div = document.createElement('div')\n                div.classList.add('schedule-course')\n                schedulesContainer.appendChild(div)\n\n                const time = document.createElement('p')\n                time.textContent = `${schedule.startDateTime.time} - ${schedule.endDateTime.time}`\n                div.appendChild(time)\n\n                const name = document.createElement('p')\n                name.textContent = schedule._links.courses[0].title\n                div.appendChild(name)\n\n                const room = document.createElement('p')\n                room.textContent = classRoom\n                div.appendChild(room)\n\n                const teacher = document.createElement('p')\n                teacher.textContent = schedule._links.lecturers[0].title\n                div.appendChild(teacher)\n            })\n        }\n\n        navigate(direction) {\n            direction === 'previous' ? this.index-- : this.index++\n\n            this.index === 0 ? this.arrowPrevious.classList.add('disabled') : this.arrowPrevious.classList.remove('disabled')\n            this.index === 4 ? this.arrowNext.classList.add('disabled') : this.arrowNext.classList.remove('disabled')\n\n            this.updateSchedule(this.data[this.index])\n        }\n    }\n\n    window.customElements.define('schedule-widget', schedule)\n}","import * as utils from '../modules/utils.mjs'\n\nexport { template as WC_urgentAnnouncement }\n\nconst template = document.createElement('template')\ntemplate.innerHTML = `\n<style>\n    div {\n        display: grid;\n        grid-template-columns: 1fr 50px;\n        grid-template-rows: 50px;\n        align-items: center;\n        background-color: #ECE7FA;\n    }\n    div.hide {\n        position: absolute;\n        left: -9999px;\n    }\n    p {\n        margin: 0;\n        padding-left: 30px;\n        color: black;\n        justify-self: start;\n    }\n    @media only screen and (max-width: 425px) {\n        p {\n            padding-left: 10px;\n        }\n    }\n    img {\n        padding-right: 20px;\n        grid-column: 2 / 3;\n        justify-self: end;\n        cursor: pointer;\n    }\n</style>\n<div class=\"hide\">\n    <p></p>\n    <img src=\"./media/icons/notification-exit.svg\" alt=\"hide notification\">\n</div>`\n\n\n\nclass urgentAnnouncement extends HTMLElement {\n\n    constructor() {\n        super()\n\n        this.attachShadow({ mode: 'open' })\n        this.shadowRoot.appendChild(template.content.cloneNode(true))\n        this.shadowRoot.querySelector('p').textContent = this.getAttribute('message')\n        this.shadowRoot.querySelector('img').addEventListener('click', () => {\n            this.hide()\n            this.store()\n        })\n    }\n\n    static get observedAttributes() {\n        return ['uid']\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue != newValue && newValue != \"\") {\n            const uid = this.getAttribute('uid')\n            const storedHistory = utils.getLocalStorage('read-history')\n            if (storedHistory) {\n                if (!storedHistory.includes(uid)) {\n                    this.updateContent()\n                    this.show()\n                }\n            } else {\n                this.updateContent()\n                this.show()\n            }\n        }\n    }\n\n    updateContent() {\n        this.shadowRoot.querySelector('p').textContent = this.getAttribute('message')\n    }\n\n    show() {\n        this.shadowRoot.querySelector('div').classList.remove('hide')\n        document.querySelector('main').classList.add('showsNotification')\n    }\n\n    hide() {\n        this.shadowRoot.querySelector('div').classList.add('hide')\n        document.querySelector('main').classList.remove('showsNotification')\n    }\n\n    store() {\n        if (utils.storageAvailable('localStorage')) {\n            const storedHistory = utils.getLocalStorage('read-history')\n            const readHistory = storedHistory ? storedHistory : []\n\n            readHistory.push(this.getAttribute('uid'))\n            utils.setLocalStorage('read-history', readHistory)\n        }\n    }\n}\n\nwindow.customElements.define('urgent-announcement', urgentAnnouncement)"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvaW5kZXguanMiLCJzcmMvanMvbW9kdWxlcy9zZWFyY2gubWpzIiwic3JjL2pzL21vZHVsZXMvdXRpbHMubWpzIiwic3JjL2pzL3dlYi1jb21wb25lbnRzL3NjaGVkdWxlLm1qcyIsInNyYy9qcy93ZWItY29tcG9uZW50cy91cmdlbnQtYW5ub3VuY2VtZW50Lm1qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUNBQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixFQUErQixFQUEvQixDQUFrQyxXQUFsQyxFQUFiLEMsQ0FHQTs7QUFDQSxJQUFJLElBQUksS0FBSyxXQUFiLEVBQTBCO0FBQ3RCLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxjQUFULENBQXdCLFVBQXhCLENBQXZCO0FBQ0EsRUFBQSxjQUFjLENBQUMsTUFBZjtBQUNBLE1BQU0sa0JBQWtCLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIscUJBQXZCLENBQTNCO0FBQ0EsRUFBQSxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixFQUErQixZQUEvQixDQUE0QyxRQUFRLENBQUMsYUFBVCxDQUF1QixpQkFBdkIsQ0FBNUMsRUFBdUYsa0JBQWtCLENBQUMsV0FBMUc7QUFDQTtBQUNILEMsQ0FHRDs7O0FBQ0EsSUFBTSxNQUFNLEdBQUcsRUFBRSxFQUFqQixDLENBRUE7O0FBQ0EsTUFBTSxDQUFDLElBQVAsQ0FBWSxNQUFaLEVBQW9CLElBQXBCLEUsQ0FFQTs7QUFDQSxNQUFNLENBQUMsRUFBUCxDQUFVLHFCQUFWLEVBQWlDLFVBQUEsWUFBWSxFQUFJO0FBQzdDLE1BQU0sa0JBQWtCLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIscUJBQXZCLENBQTNCOztBQUVBLE1BQUksS0FBSyxDQUFDLE1BQU4sQ0FBYSxDQUFD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QUFDLEtBQUQsQ0FBUDtBQUNIOzs7O2lDQWhCNEIsVzs7QUEyRGpDLE1BQU0sQ0FBQyxjQUFQLENBQXNCLE1BQXRCLENBQTZCLHFCQUE3QixFQUFvRCxrQkFBcEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL21vZHVsZXMvdXRpbHMubWpzJ1xuaW1wb3J0ICogYXMgc2VhcmNoIGZyb20gJy4vbW9kdWxlcy9zZWFyY2gubWpzJ1xuaW1wb3J0IHVyZ2VudEFubm91bmNlbWVudCBmcm9tICcuL3dlYi1jb21wb25lbnRzL3VyZ2VudC1hbm5vdW5jZW1lbnQubWpzJ1xuaW1wb3J0IHsgV0Nfc2NoZWR1bGVXaWRnZXQgfSBmcm9tICcuL3dlYi1jb21wb25lbnRzL3NjaGVkdWxlLm1qcydcblxuY29uc3QgcGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5pZC50b0xvd2VyQ2FzZSgpXG5cblxuLy9pbml0IGRhc2hib2FyZFxuaWYgKHBhZ2UgPT09ICdkYXNoYm9hcmQnKSB7XG4gICAgY29uc3Qgc2NoZWR1bGVXaWRnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NoZWR1bGUnKVxuICAgIHNjaGVkdWxlV2lkZ2V0LnJlbW92ZSgpXG4gICAgY29uc3QgdXJnZW50Tm90aWZpY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndXJnZW50LWFubm91bmNlbWVudCcpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY2hlZHVsZS13aWRnZXQnKSwgdXJnZW50Tm90aWZpY2F0aW9uLm5leHRTaWJsaW5nKVxuICAgIFdDX3NjaGVkdWxlV2lkZ2V0KClcbn1cblxuXG4vL3VyZ2VudCBhbm5vdW5jZW1lbnRzXG5jb25zdCBzb2NrZXQgPSBpbygpXG5cbi8vc3Vic2NyaWJlIHRvIHVyZ2VudC1hbm5vdW5jZW1lbnRzXG5zb2NrZXQuZW1pdCgnam9pbicsIHBhZ2UpXG5cbi8vb24gdXJnZW50LWFubm91bmNlbWVudCBob29rIHVwZGF0ZSBpbnRlcmZhY2UgKHNlZSBXQ191cmdlbnRBbm5vdW5jZW1lbnQpXG5zb2NrZXQub24oJ3VyZ2VudC1hbm5vdW5jZW1lbnQnLCBhbm5vdW5jZW1lbnQgPT4ge1xuICAgIGNvbnN0IHVyZ2VudEFubm91bmNlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VyZ2VudC1hbm5vdW5jZW1lbnQnKVxuXG4gICAgaWYgKHV0aWxzLmV4aXN0cyhbdXJnZW50QW5ub3VuY2VtZW50XSkpIHtcbiAgICAgICAgdXJnZW50QW5ub3VuY2VtZW50LnNldEF0dHJpYnV0ZSgnbWVzc2FnZScsIGFubm91bmNlbWVudC50aXRsZSlcbiAgICAgICAgdXJnZW50QW5ub3VuY2VtZW50LnNldEF0dHJpYnV0ZSgndWlkJywgYW5ub3VuY2VtZW50Lm5ld3NJdGVtSWQpXG4gICAgfVxufSlcblxuXG5cblxuLy9tZW51IFxuY29uc3QgbWVudUljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudS1pY29uJylcbmNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpXG5cbmlmICh1dGlscy5leGlzdHMoW21lbnVJY29uLCBtZW51XSkpIHtcblxuICAgIC8vdG9nZ2xlIG1lbnUgKG9uIG1vYmlsZSlcbiAgICBtZW51SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJylcbiAgICB9KVxufVxuXG5cblxuXG4vL3NlYXJjaCBcbmNvbnN0IHNlYXJjaEJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtYmFyJylcbmNvbnN0IHNlYXJjaFJlc2V0SWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtcmVzZXQnKVxuY29uc3Qgc2VhcmNoSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWFyY2gtY29udGFpbmVyIGlucHV0W3R5cGU9c3VibWl0XScpXG5cbmlmICh1dGlscy5leGlzdHMoW3NlYXJjaEJhciwgc2VhcmNoUmVzZXRJY29uLCBzZWFyY2hJY29uXSkpIHtcblxuICAgIC8vY29udHJvbCBzZWFyY2gtcmVzZXQgaWNvbiBcbiAgICBzZWFyY2hCYXIuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBzZWFyY2guc2hvd1Jlc2V0KCkpXG4gICAgc2VhcmNoQmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiBzZWFyY2guaGlkZVJlc2V0KCkpXG5cblxuICAgIC8vcmVzZXQgc2VhcmNoIGlucHV0XG4gICAgc2VhcmNoUmVzZXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiBzZWFyY2gucmVzZXQoZSkpXG5cblxuICAgIC8vZGVwZW5kaW5nIG9uIHNlYXJjaC1xdWVyeSBlaXRoZXIgZ2l2ZSBmb2N1cyB0byBzZWFyY2hiYXIgb3Igc3VibWl0IHNlYXJjaC1xdWVyeVxuICAgIHNlYXJjaEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgaWYgKHNlYXJjaEJhci52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgc2VhcmNoLmZvY3VzKGUpXG4gICAgICAgIH1cbiAgICB9KVxuXG5cbiAgICAvL2xpc3RlbiB0byBrZXlib2FyZCBpbnB1dFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgXCIvXCI6XG4gICAgICAgICAgICAgICAgc2VhcmNoLmZvY3VzKGUpIC8vZ2l2ZSBzZWFyY2hiYXIgZm9jdXMgYW5kIGhpZGUgc2VhcmNoLXJlc2V0IGljb25cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgfSlcbn0iLCJjb25zdCBzZWFyY2hCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWJhcicpXG5jb25zdCBzZWFyY2hSZXNldEljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXJlc2V0JylcblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBzZWFyY2hCYXIuZm9jdXMoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1Jlc2V0KCkge1xuICAgIHNlYXJjaFJlc2V0SWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVSZXNldCgpIHtcbiAgICBpZiAoc2VhcmNoQmFyLnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgIHNlYXJjaFJlc2V0SWNvbi5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldChlKSB7XG4gICAgc2VhcmNoQmFyLnZhbHVlID0gXCJcIlxuICAgIGZvY3VzKGUpXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGV4aXN0cyhbLi4udmFyaWFibGVzXSkge1xuICAgIGNvbnN0IGV4aXN0cyA9IHZhcmlhYmxlcy5ldmVyeSh2YXJpYWJsZSA9PiB2YXJpYWJsZSAhPSBudWxsKVxuICAgIHJldHVybiBleGlzdHNcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TG9jYWxTdG9yYWdlKG5hbWUsIGl0ZW0pIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYW1lLCBKU09OLnN0cmluZ2lmeShpdGVtKSlcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlKGl0ZW0pIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpdGVtKSlcbn1cblxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3JhZ2VBdmFpbGFibGUodHlwZSkgeyAvL3NvdXJjZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9TdG9yYWdlX0FQSS9Vc2luZ190aGVfV2ViX1N0b3JhZ2VfQVBJXG4gICAgbGV0IHN0b3JhZ2VcbiAgICB0cnkge1xuICAgICAgICBzdG9yYWdlID0gd2luZG93W3R5cGVdXG4gICAgICAgIGxldCB4ID0gJ19fc3RvcmFnZV90ZXN0X18nXG4gICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSh4LCB4KVxuICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICBlLmNvZGUgPT09IDIyIHx8XG4gICAgICAgICAgICAgICAgZS5jb2RlID09PSAxMDE0IHx8XG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnUXVvdGFFeGNlZWRlZEVycm9yJyB8fFxuICAgICAgICAgICAgICAgIGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykgJiZcbiAgICAgICAgICAgIChzdG9yYWdlICYmIHN0b3JhZ2UubGVuZ3RoICE9PSAwKVxuICAgIH1cbn0iLCJleHBvcnQgeyBpbml0IGFzIFdDX3NjaGVkdWxlV2lkZ2V0IH1cblxuY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpXG50ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG48c3R5bGU+XG5oMiB7XG4gICAgZm9udC1zaXplOiAyNHB4O1xuICAgIGNvbG9yOiAjMjUxNjdBO1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0RERERERDtcbiAgICBtYXJnaW46IDAgMCAxNXB4IDA7XG5cdGZvbnQtZmFtaWx5OiBcIk9wZW5TYW5zLVJlZ3VsYXJcIiwgc2Fucy1zZXJpZiwgQXJpYWwsIEhlbHZldGljYTtcblx0Zm9udC13ZWlnaHQ6IGxpZ2h0ZXI7XG5cdGxpbmUtaGVpZ2h0OiAxLjE7XG59XG5wIHtcblx0bWFyZ2luOiAwO1xufVxuI25hdmlnYXRvciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0RERERERDtcbiAgICBwYWRkaW5nOiAxNXB4IDIwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgY29sb3I6ICMyNTE2N0E7XG4gICAgZm9udC1zaXplOiAxNnB4O1xufVxuXG4jbmF2aWdhdG9yIGltZzpub3QoLmRpc2FibGVkKSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4jbmF2aWdhdG9yIGltZy5kaXNhYmxlZCB7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgb3BhY2l0eTogLjU7XG59XG5cbi5zY2hlZHVsZS1jb3Vyc2Uge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIDFmcjtcbiAgICBncmlkLWNvbHVtbi1nYXA6IDIwcHg7XG4gICAgZ3JpZC1yb3ctZ2FwOiA1cHg7XG4gICAgcGFkZGluZzogMTVweCAyMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjREREREREO1xufVxuXG4uc2NoZWR1bGUtY291cnNlIHA6Zmlyc3Qtb2YtdHlwZSxcbi5zY2hlZHVsZS1jb3Vyc2UgcDpudGgtb2YtdHlwZSgzKSB7XG4gICAgZm9udC1mYW1pbHk6IFwiT3BlblNhbnMtQm9sZFwiLCBzYW5zLXNlcmlmLCBBcmlhbCwgSGVsdmV0aWNhO1xufVxuXG5hIHtcbiAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICBjb2xvcjogIzI1MTY3QTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbmEgaW1nIHtcbiAgICBoZWlnaHQ6IDEycHg7XG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG59XG48L3N0eWxlPlxuPGgyPkRhZ3Jvb3N0ZXI8L2gyPlxuPGRpdiBpZD1cIm5hdmlnYXRvclwiPlxuXHQ8aW1nIHNyYz1cIi9tZWRpYS9pY29ucy9hcnJvdy1sZWZ0LnN2Z1wiIGFsdD1cImFycm93LWxlZnRcIiBjbGFzcz1cImRpc2FibGVkXCI+PC9pbWc+XG5cdDxzcGFuPjwvc3Bhbj5cblx0PGltZyBzcmM9XCIvbWVkaWEvaWNvbnMvYXJyb3ctcmlnaHQuc3ZnXCIgYWx0PVwiYXJyb3ctcmlnaHRcIj48L2ltZz5cbjwvZGl2PlxuPGRpdiBpZD1cInNjaGVkdWxlcy1jb250YWluZXJcIj48L2Rpdj5cbjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL3Jvb3N0ZXIuaHZhLm5sL3NjaGVkdWxlXCI+Vm9sbGVkaWcgcm9vc3RlclxuXHQ8aW1nIHNyYz1cIi9tZWRpYS9pY29ucy9hcnJvdy1yaWdodC5zdmdcIiBhbHQ9XCJhcnJvdy1yaWdodFwiPjwvaW1nPlxuPC9hPlxuYFxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGNsYXNzIHNjaGVkdWxlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KVxuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKVxuXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldERhdGEoKVxuICAgICAgICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjaGVkdWxlKGpzb25bMF0pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGpzb25cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRvciA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnbmF2aWdhdG9yJylcbiAgICAgICAgICAgIHRoaXMuYXJyb3dQcmV2aW91cyA9IHRoaXMubmF2aWdhdG9yLnF1ZXJ5U2VsZWN0b3IoJyNuYXZpZ2F0b3IgaW1nOmZpcnN0LW9mLXR5cGUnKVxuICAgICAgICAgICAgdGhpcy5hcnJvd05leHQgPSB0aGlzLm5hdmlnYXRvci5xdWVyeVNlbGVjdG9yKCcjbmF2aWdhdG9yIGltZzpsYXN0LW9mLXR5cGUnKVxuXG4gICAgICAgICAgICB0aGlzLmFycm93TmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubmF2aWdhdGUoJ25leHQnKSlcbiAgICAgICAgICAgIHRoaXMuYXJyb3dQcmV2aW91cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubmF2aWdhdGUoJ3ByZXZpb3VzJykpXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmZXRjaCgnL3NjaGVkdWxlJywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZVNjaGVkdWxlKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVkdWxlc0NvbnRhaW5lciA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnc2NoZWR1bGVzLWNvbnRhaW5lcicpXG4gICAgICAgICAgICBzY2hlZHVsZXNDb250YWluZXIudGV4dENvbnRlbnQgPSBcIlwiXG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS50ZXh0Q29udGVudCA9IGAke2RhdGEuZGF5fS0ke2RhdGEubW9udGh9LSR7ZGF0YS55ZWFyfWBcblxuICAgICAgICAgICAgZGF0YS5zY2hlZHVsZXMuZm9yRWFjaChzY2hlZHVsZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhc3NSb29tID0gc2NoZWR1bGUuX2VtYmVkZGVkID8gc2NoZWR1bGUuX2VtYmVkZGVkLnJvb21zWzBdLmFiYnJldmlhdGlvbiA6IFwiR2VlbiBsb2thYWxcIlxuXG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnc2NoZWR1bGUtY291cnNlJylcbiAgICAgICAgICAgICAgICBzY2hlZHVsZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICAgICAgICAgIHRpbWUudGV4dENvbnRlbnQgPSBgJHtzY2hlZHVsZS5zdGFydERhdGVUaW1lLnRpbWV9IC0gJHtzY2hlZHVsZS5lbmREYXRlVGltZS50aW1lfWBcbiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGltZSlcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgICAgICAgICBuYW1lLnRleHRDb250ZW50ID0gc2NoZWR1bGUuX2xpbmtzLmNvdXJzZXNbMF0udGl0bGVcbiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobmFtZSlcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJvb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgICAgICAgICByb29tLnRleHRDb250ZW50ID0gY2xhc3NSb29tXG4gICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHJvb20pXG5cbiAgICAgICAgICAgICAgICBjb25zdCB0ZWFjaGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgICAgICAgICAgdGVhY2hlci50ZXh0Q29udGVudCA9IHNjaGVkdWxlLl9saW5rcy5sZWN0dXJlcnNbMF0udGl0bGVcbiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGVhY2hlcilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBuYXZpZ2F0ZShkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gJ3ByZXZpb3VzJyA/IHRoaXMuaW5kZXgtLSA6IHRoaXMuaW5kZXgrK1xuXG4gICAgICAgICAgICB0aGlzLmluZGV4ID09PSAwID8gdGhpcy5hcnJvd1ByZXZpb3VzLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJykgOiB0aGlzLmFycm93UHJldmlvdXMuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgICAgICAgICAgdGhpcy5pbmRleCA9PT0gNCA/IHRoaXMuYXJyb3dOZXh0LmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJykgOiB0aGlzLmFycm93TmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpXG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2NoZWR1bGUodGhpcy5kYXRhW3RoaXMuaW5kZXhdKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2NoZWR1bGUtd2lkZ2V0Jywgc2NoZWR1bGUpXG59IiwiaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi4vbW9kdWxlcy91dGlscy5tanMnXG5cbmV4cG9ydCB7IHRlbXBsYXRlIGFzIFdDX3VyZ2VudEFubm91bmNlbWVudCB9XG5cbmNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKVxudGVtcGxhdGUuaW5uZXJIVE1MID0gYFxuPHN0eWxlPlxuICAgIGRpdiB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDUwcHg7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtcm93czogNTBweDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0VDRTdGQTtcbiAgICB9XG4gICAgZGl2LmhpZGUge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IC05OTk5cHg7XG4gICAgfVxuICAgIHAge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMzBweDtcbiAgICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgICBqdXN0aWZ5LXNlbGY6IHN0YXJ0O1xuICAgIH1cbiAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDQyNXB4KSB7XG4gICAgICAgIHAge1xuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGltZyB7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XG4gICAgICAgIGdyaWQtY29sdW1uOiAyIC8gMztcbiAgICAgICAganVzdGlmeS1zZWxmOiBlbmQ7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG48L3N0eWxlPlxuPGRpdiBjbGFzcz1cImhpZGVcIj5cbiAgICA8cD48L3A+XG4gICAgPGltZyBzcmM9XCIuL21lZGlhL2ljb25zL25vdGlmaWNhdGlvbi1leGl0LnN2Z1wiIGFsdD1cImhpZGUgbm90aWZpY2F0aW9uXCI+XG48L2Rpdj5gXG5cblxuXG5jbGFzcyB1cmdlbnRBbm5vdW5jZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pXG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSlcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3AnKS50ZXh0Q29udGVudCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdtZXNzYWdlJylcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKClcbiAgICAgICAgICAgIHRoaXMuc3RvcmUoKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4gWyd1aWQnXVxuICAgIH1cblxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9IG5ld1ZhbHVlICYmIG5ld1ZhbHVlICE9IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVpZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCd1aWQnKVxuICAgICAgICAgICAgY29uc3Qgc3RvcmVkSGlzdG9yeSA9IHV0aWxzLmdldExvY2FsU3RvcmFnZSgncmVhZC1oaXN0b3J5JylcbiAgICAgICAgICAgIGlmIChzdG9yZWRIaXN0b3J5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdG9yZWRIaXN0b3J5LmluY2x1ZGVzKHVpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250ZW50KClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGVudCgpXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUNvbnRlbnQoKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdwJykudGV4dENvbnRlbnQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnbWVzc2FnZScpXG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2RpdicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJykuY2xhc3NMaXN0LmFkZCgnc2hvd3NOb3RpZmljYXRpb24nKVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdkaXYnKS5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3dzTm90aWZpY2F0aW9uJylcbiAgICB9XG5cbiAgICBzdG9yZSgpIHtcbiAgICAgICAgaWYgKHV0aWxzLnN0b3JhZ2VBdmFpbGFibGUoJ2xvY2FsU3RvcmFnZScpKSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWRIaXN0b3J5ID0gdXRpbHMuZ2V0TG9jYWxTdG9yYWdlKCdyZWFkLWhpc3RvcnknKVxuICAgICAgICAgICAgY29uc3QgcmVhZEhpc3RvcnkgPSBzdG9yZWRIaXN0b3J5ID8gc3RvcmVkSGlzdG9yeSA6IFtdXG5cbiAgICAgICAgICAgIHJlYWRIaXN0b3J5LnB1c2godGhpcy5nZXRBdHRyaWJ1dGUoJ3VpZCcpKVxuICAgICAgICAgICAgdXRpbHMuc2V0TG9jYWxTdG9yYWdlKCdyZWFkLWhpc3RvcnknLCByZWFkSGlzdG9yeSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgndXJnZW50LWFubm91bmNlbWVudCcsIHVyZ2VudEFubm91bmNlbWVudCkiXX0="}