{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/index.js","src/js/modules/search.mjs","src/js/modules/togglePreferences.mjs","src/js/modules/utils.mjs","src/js/web-components/course-overview.mjs","src/js/web-components/schedule.mjs","src/js/web-components/study-progress.mjs","src/js/web-components/urgent-announcement.mjs"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as utils from './modules/utils.mjs'\nimport * as search from './modules/search.mjs'\nimport togglePreferences from './modules/togglePreferences.mjs'\nimport urgentAnnouncement from './web-components/urgent-announcement.mjs'\nimport { WC_studyprogress } from './web-components/study-progress.mjs'\nimport { WC_scheduleWidget } from './web-components/schedule.mjs'\nimport { WC_courseoverview } from './web-components/course-overview.mjs'\n\n\n\nconst page = document.querySelector('main').id.toLowerCase()\n\n//init dashboard\nif (page === 'dashboard') {\n    const domElements = ['study-progress', 'course-overview', 'schedule']\n    const widgetElements = ['study-progress', 'course-overview', 'schedule-widget']\n    appendWidgets(domElements, widgetElements)\n}\n\nif (page === 'account') {\n    togglePreferences()\n}\n\nfunction appendWidgets(dom, widget) {\n    for (let i = 0; i < dom.length; i++) {\n        if (document.getElementById(dom[i])) {\n            document.getElementById(dom[i]).remove()\n        }\n        document.querySelector('main section').append(document.createElement(widget[i]))\n    }\n\n    WC_studyprogress()\n    WC_courseoverview()\n    WC_scheduleWidget()\n}\n\n\n//check if browser is online\nif (navigator.onLine) {\n    //urgent announcements\n    const socket = io()\n\n    //subscribe to urgent-announcements\n    socket.emit('join', page)\n\n    //on urgent-announcement hook update interface (see WC_urgentAnnouncement)\n    socket.on('urgent-announcement', announcement => {\n        const urgentAnnouncement = document.querySelector('urgent-announcement')\n\n        if (utils.exists([urgentAnnouncement])) {\n            urgentAnnouncement.setAttribute('message', announcement.title)\n            urgentAnnouncement.setAttribute('uid', announcement.newsItemId)\n        }\n    })\n}\n\n\n\n\n//menu \nconst menuIcon = document.getElementById('menu-icon')\nconst menu = document.getElementById('menu')\n\nif (utils.exists([menuIcon, menu])) {\n\n    //toggle menu (on mobile)\n    menuIcon.addEventListener('click', () => {\n        menu.classList.toggle('hide')\n    })\n}\n\n\n\n\n//search \nconst searchBar = document.getElementById('search-bar')\nconst searchResetIcon = document.getElementById('search-reset')\nconst searchIcon = document.querySelector('#search-container input[type=submit]')\n\nif (utils.exists([searchBar, searchResetIcon, searchIcon])) {\n\n    //control search-reset icon \n    searchBar.addEventListener('focus', () => search.showReset())\n    searchBar.addEventListener('blur', () => search.hideReset())\n\n\n    //reset search input\n    searchResetIcon.addEventListener('click', e => search.reset(e))\n\n\n    //depending on search-query either give focus to searchbar or submit search-query\n    searchIcon.addEventListener('click', e => {\n        if (searchBar.value === \"\") {\n            search.focus(e)\n        }\n    })\n\n\n    //listen to keyboard input\n    document.addEventListener('keypress', e => {\n        switch (e.key) {\n            case \"/\":\n                search.focus(e) //give searchbar focus and hide search-reset icon\n                break\n        }\n    })\n}","const searchBar = document.getElementById('search-bar')\nconst searchResetIcon = document.getElementById('search-reset')\n\nexport function focus(e) {\n    e.preventDefault()\n    searchBar.focus()\n}\n\nexport function showReset() {\n    searchResetIcon.classList.remove('hide')\n}\n\nexport function hideReset() {\n    if (searchBar.value === \"\") {\n        searchResetIcon.classList.add('hide')\n    }\n}\n\nexport function reset(e) {\n    searchBar.value = \"\"\n    focus(e)\n}","import { setLocalStorage, getLocalStorage } from '../modules/utils.mjs'\n\nexport default function togglePreferences() {\n    document.querySelector('#account form').classList.remove('disabled')\n    const inputs = [...document.querySelectorAll('#account form label')]\n    let preferences = []\n\n    inputs.forEach(label => {\n        // Data\n        const id = label.id\n        const text = label.textContent\n        const state = label.querySelector('input').checked\n\n        // Set LocalStorage\n        const object = { id: id, name: text, state: state }\n        preferences.push(object)\n        setLocalStorage('preferences', preferences)\n\n        // Toggle\n        label.addEventListener('change', event => {\n            // Data\n            const id = label.id\n            const state = event.target.checked\n\n            // Change LocalStorage\n            const data = getLocalStorage('preferences')\n            data[id].state = state\n            setLocalStorage('preferences', data)\n        })\n    })\n}","export function exists([...variables]) {\n    const exists = variables.every(variable => variable != null)\n    return exists\n}\n\n\nexport function setLocalStorage(name, item) {\n    localStorage.setItem(name, JSON.stringify(item))\n}\n\n\nexport function getLocalStorage(item) {\n    return JSON.parse(localStorage.getItem(item))\n}\n\n\n\n\nexport function storageAvailable(type) { //source: https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\n    let storage\n    try {\n        storage = window[type]\n        let x = '__storage_test__'\n        storage.setItem(x, x)\n        storage.removeItem(x)\n        return true\n    } catch (e) {\n        return e instanceof DOMException && (\n                e.code === 22 ||\n                e.code === 1014 ||\n                e.name === 'QuotaExceededError' ||\n                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n            (storage && storage.length !== 0)\n    }\n}","export { init as WC_courseoverview }\n\nconst template = document.createElement('template')\ntemplate.innerHTML = `\n<style>\nh2 {\n    font-size: 24px;\n    color: #25167A;\n    text-transform: uppercase;\n    padding-bottom: 8px;\n    border-bottom: 1px solid #DDDDDD;\n    margin: 0 0 15px 0;\n\tfont-family: \"OpenSans-Regular\", sans-serif, Arial, Helvetica;\n\tfont-weight: lighter;\n\tline-height: 1.1;\n}\n\np {\n\tmargin: 0;\n}\n\n.navigator {\n    background-color: #DDDDDD;\n    padding: 5px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #25167A;\n    font-size: 16px;\n}\n\n.navigator span  {\n    cursor: default;\n}\n\n.navigator img {\n    padding: 10px;\n}\n\n.navigator img:not(.disabled) {\n    cursor: pointer;\n}\n\n.navigator img.disabled {\n    pointer-events: none;\n    opacity: .5;\n}\n\n.course {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 20px;\n    padding: 15px 20px;\n    border-bottom: 1px solid #DDDDDD;\n}\n\n.course p:first-of-type {\n    font-family: \"OpenSans-Bold\", sans-serif, Arial, Helvetica;\n    align-self: center;\n}\n\n.course ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    align-self: center;\n}\n\n.course ul li {\n    display: inline;\n}\n\n.course ul li:not(:last-of-type):after {\n    content: \", \";\n    white-space: pre;\n}\n\na {\n    margin-top: 30px;\n    text-decoration: none;\n    color: #25167A;\n    display: flex;\n    align-items: center;\n}\n\na:hover,\na:focus {\n    text-decoration: underline;\n    outline: none;\n}\n\na img {\n    height: 12px;\n    margin-left: 20px;\n}\n</style>\n\n<h2>Vakkenoverzicht</h2>\n\n<div class=\"navigator\">\n    <img src=\"/media/icons/arrow-left.svg\" alt=\"arrow-left\"></img>\n    <span></span>\n    <img src=\"/media/icons/arrow-right.svg\" alt=\"arrow-right\"></img>\n</div>\n\n<div id=\"course-overview\"></div>\n\n<a target=\"_blank\" href=\"https://sis.hva.nl/\">Volledig overzicht\n    <img src=\"/media/icons/arrow-right.svg\" alt=\"arrow-right\"></img>\n</a>\n`\n\nfunction init() {\n    class CourseOverview extends HTMLElement {\n        constructor() {\n            // Setup\n            super()\n            this.attachShadow({ mode: 'open' })\n            this.shadowRoot.appendChild(template.content.cloneNode(true))\n\n            // Variables\n            this.courseContainer = this.shadowRoot.querySelector('#course-overview')\n            this.courseMoment = this.shadowRoot.querySelector('.navigator span')\n            this.arrowPrevious = this.shadowRoot.querySelector('.navigator img:first-of-type')\n            this.arrowNext = this.shadowRoot.querySelector('.navigator img:last-of-type')\n            this.yearIndex = 2\n            this.quarterIndex = 3\n\n            // Data\n            this.data = this.getData().then(json => {\n                this.navigateHandler()\n\n                const data = json[this.yearIndex].quarters[this.quarterIndex].courses\n                this.updateCourseOverview(data)\n\n                this.data = json\n            })\n\n            // EventListeners\n            this.arrowPrevious.addEventListener('click', () => this.navigate('previous'))\n            this.arrowNext.addEventListener('click', () => this.navigate('next'))\n        }\n\n        updateNavigator() {\n            this.courseMoment.textContent = `Jaar ${this.yearIndex + 1} - Blok ${this.quarterIndex + 1}`\n        }\n\n        updateCourseOverview(courses) {\n            this.courseContainer.textContent = \"\"\n            this.updateNavigator()\n\n            courses.forEach(course => {\n                const div = document.createElement('div')\n                div.classList.add('course')\n\n                const courseName = document.createElement('p')\n                courseName.textContent = course.course\n                div.append(courseName)\n\n                const list = document.createElement('ul')\n                course.lecturers.forEach(lecturer => {\n                    const teacher = document.createElement('li')\n                    lecturer === \"\" ? teacher.textContent = 'Geen specifieke docent' : teacher.textContent = lecturer\n                    list.append(teacher)\n                })\n                div.append(list)\n\n                this.courseContainer.append(div)\n            })\n        }\n\n        navigate(direction) {\n            if (direction === 'previous') {\n                if (this.quarterIndex > 0) {\n                    this.quarterIndex--\n                } else if (this.quarterIndex === 0 && this.yearIndex > 0) {\n                    this.quarterIndex = 3\n                    this.yearIndex--\n                }\n            }\n\n            if (direction === 'next') {\n                if (this.quarterIndex < 3) {\n                    this.quarterIndex++\n                } else if (this.quarterIndex === 3 && this.yearIndex < 3) {\n                    this.quarterIndex = 0\n                    this.yearIndex++\n                }\n            }\n\n            this.navigateHandler()\n\n            const data = this.data[this.yearIndex].quarters[this.quarterIndex].courses\n            this.updateCourseOverview(data)\n        }\n\n        navigateHandler() {\n            this.yearIndex === 0 && this.quarterIndex === 0 ?\n                this.arrowPrevious.classList.add('disabled') : this.arrowPrevious.classList.remove('disabled')\n\n            this.yearIndex === 3 && this.quarterIndex === 3 ?\n                this.arrowNext.classList.add('disabled') : this.arrowNext.classList.remove('disabled')\n        }\n\n        // Helpers\n        getData() {\n            const options = {\n                method: 'GET',\n                headers: { 'Content-Type': 'application/json' }\n            }\n\n            return fetch('/courseoverview', options).then(res => res.json())\n        }\n    }\n\n    customElements.define('course-overview', CourseOverview)\n}","export { init as WC_scheduleWidget }\n\nconst template = document.createElement('template')\ntemplate.innerHTML = `\n<style>\nh2 {\n    font-size: 24px;\n    color: #25167A;\n    text-transform: uppercase;\n    padding-bottom: 8px;\n    border-bottom: 1px solid #DDDDDD;\n    margin: 0 0 15px 0;\n\tfont-family: \"OpenSans-Regular\", sans-serif, Arial, Helvetica;\n\tfont-weight: lighter;\n\tline-height: 1.1;\n}\n\np {\n\tmargin: 0;\n}\n\n.navigator {\n    background-color: #DDDDDD;\n    padding: 5px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #25167A;\n    font-size: 16px;\n}\n\n.navigator span  {\n    cursor: default;\n}\n\n.navigator img {\n    padding: 10px;\n}\n\n.navigator img:not(.disabled) {\n    cursor: pointer;\n}\n\n.navigator img.disabled {\n    pointer-events: none;\n    opacity: .5;\n}\n\n.schedule-course {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    grid-column-gap: 20px;\n    grid-row-gap: 5px;\n    padding: 15px 20px;\n    border-bottom: 1px solid #DDDDDD;\n}\n\n.schedule-course p:first-of-type,\n.schedule-course p:nth-of-type(3) {\n    font-family: \"OpenSans-Bold\", sans-serif, Arial, Helvetica;\n}\n\na {\n    margin-top: 30px;\n    text-decoration: none;\n    color: #25167A;\n    display: flex;\n    align-items: center;\n}\n\na:hover,\na:focus {\n    text-decoration: underline;\n    outline: none;\n}\n\na img {\n    height: 12px;\n    margin-left: 20px;\n}\n</style>\n<h2>Dagrooster</h2>\n<div class=\"navigator\">\n\t<img src=\"/media/icons/arrow-left.svg\" alt=\"arrow-left\" class=\"disabled\"></img>\n\t<span></span>\n\t<img src=\"/media/icons/arrow-right.svg\" alt=\"arrow-right\"></img>\n</div>\n<div id=\"schedules-container\"></div>\n<a target=\"_blank\" href=\"https://rooster.hva.nl/schedule\">Volledig rooster\n\t<img src=\"/media/icons/arrow-right.svg\" alt=\"arrow-right\"></img>\n</a>\n`\n\nfunction init() {\n    class schedule extends HTMLElement {\n        constructor() {\n            super()\n\n            this.attachShadow({ mode: 'open' })\n            this.shadowRoot.appendChild(template.content.cloneNode(true))\n\n            this.data = this.getData()\n                .then(json => {\n                    this.updateSchedule(json[0])\n                    this.data = json\n                })\n\n            this.navigator = this.shadowRoot.querySelector('.navigator')\n            this.arrowPrevious = this.navigator.querySelector('img:first-of-type')\n            this.arrowNext = this.navigator.querySelector('img:last-of-type')\n\n            this.arrowNext.addEventListener('click', () => this.navigate('next'))\n            this.arrowPrevious.addEventListener('click', () => this.navigate('previous'))\n            this.index = 0\n        }\n\n        getData() {\n            const options = {\n                method: 'GET',\n                headers: { 'Content-Type': 'application/json' }\n            }\n\n            return fetch('/schedule', options).then(res => res.json())\n        }\n\n        updateSchedule(data) {\n            const schedulesContainer = this.shadowRoot.getElementById('schedules-container')\n            schedulesContainer.textContent = \"\"\n\n            this.navigator.querySelector('span').textContent = `${data.day}-${data.month}-${data.year}`\n\n            data.schedules.forEach(schedule => {\n                const classRoom = schedule._embedded ? schedule._embedded.rooms[0].abbreviation : \"Geen lokaal\"\n\n                const div = document.createElement('div')\n                div.classList.add('schedule-course')\n                schedulesContainer.appendChild(div)\n\n                const time = document.createElement('p')\n                time.textContent = `${schedule.startDateTime.time} - ${schedule.endDateTime.time}`\n                div.appendChild(time)\n\n                const name = document.createElement('p')\n                name.textContent = schedule._links.courses[0].title\n                div.appendChild(name)\n\n                const room = document.createElement('p')\n                room.textContent = classRoom\n                div.appendChild(room)\n\n                const teacher = document.createElement('p')\n                teacher.textContent = schedule._links.lecturers[0].title\n                div.appendChild(teacher)\n            })\n        }\n\n        navigate(direction) {\n            direction === 'previous' ? this.index-- : this.index++\n\n            this.index === 0 ? this.arrowPrevious.classList.add('disabled') : this.arrowPrevious.classList.remove('disabled')\n            this.index === 4 ? this.arrowNext.classList.add('disabled') : this.arrowNext.classList.remove('disabled')\n\n            this.updateSchedule(this.data[this.index])\n        }\n    }\n\n    window.customElements.define('schedule-widget', schedule)\n}","export { init as WC_studyprogress }\n\nconst template = document.createElement('template')\ntemplate.innerHTML = `\n<style>\nh2 {\n    font-size: 24px;\n    color: #25167A;\n    text-transform: uppercase;\n    padding-bottom: 8px;\n    border-bottom: 1px solid #DDDDDD;\n    margin: 0 0 15px 0;\n    font-family: \"OpenSans-Regular\", sans-serif, Arial, Helvetica;\n    font-weight: lighter;\n    line-height: 1.1;\n}\n\np {\n    margin: 0;\n}\n\n#recent-results div {\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    grid-template-rows: 1fr auto;\n}\n\n#recent-results div:not(:last-of-type) {\n    margin-bottom: 15px;\n}\n\n#recent-results span {\n    display: block;\n    grid-column: 1 / 2;\n    grid-row: 1 / 3;\n    width: 5px;\n    height: 100%;\n}\n\nspan.success {\n    background-color: #25167A;\n}\n\nspan.failed {\n    background-color: #DDDDDD;\n}\n\n#recent-results p:nth-of-type(1) {\n    grid-column: 2 / 3;\n    padding: 4px 0px 0px 10px;\n}\n\n#recent-results p:nth-of-type(2) {\n    grid-row: 1 / 3;\n    grid-column: 3 / 4;\n    align-self: center;\n}\n\n#recent-results p:nth-of-type(3) {\n    padding: 0px 0px 4px 10px;\n    font-size: 14px;\n    color: #666666;\n}\n\n#recent-results p:nth-of-type(1),\n#recent-results p:nth-of-type(2) {\n    font-family: \"OpenSans-Bold\", sans-serif, Arial, Helvetica;\n\n}\n\n#recent-progress {\n    margin-top: 30px;\n}\n\n#recent-progress div {\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n}\n\n#recent-progress div span {\n        display: block;\n        width: 5px;\n}\n\n#recent-progress p {\n    padding: 5px 0px;\n}\n\n#recent-progress p:first-of-type {\n    padding-left: 10px;\n}\n\n#recent-progress .current-year {\n    background-color: #DDDDDD;\n}\n\n#recent-progress .current-year span {\n    background-color: #25167A;\n}\n\n#recent-progress .current-year p {\n    font-family: \"OpenSans-Bold\", sans-serif, Arial, Helvetica;\n}\n\n#recent-progress .current-year p:last-of-type {\n    padding-right: 10px;\n}\n\na {\n    margin-top: 30px;\n    text-decoration: none;\n    color: #25167A;\n    display: flex;\n    align-items: center;\n}\n\na:hover,\na:focus {\n    text-decoration: underline;\n    outline: none;\n}\n\na img {\n    height: 12px;\n    margin-left: 20px;\n}\n</style>\n\n<h2>Studieresultaten en -voortgang</h2>\n\n<div id=\"recent-results\"></div>\n<div id=\"recent-progress\"></div>\n\n<a target=\"_blank\" href=\"https://sis.hva.nl/\">Alle resultaten in SIS\n    <img src=\"/media/icons/arrow-right.svg\" alt=\"arrow-right\"></img>\n</a>\n`\n\nfunction init() {\n    class StudyProgress extends HTMLElement {\n        constructor() {\n            // Setup\n            super()\n            this.attachShadow({ mode: 'open' })\n            this.shadowRoot.appendChild(template.content.cloneNode(true))\n\n            this.data = this.getData().then(json => {\n                const [results, progress] = json\n\n                this.resultComponent(results)\n                this.progressComponent(progress)\n            })\n\n            this.resultsContainer = this.shadowRoot.querySelector('#recent-results')\n            this.progressContainer = this.shadowRoot.querySelector('#recent-progress')\n        }\n\n        progressComponent(results) {\n            results.forEach(result => {\n                const div = document.createElement('div')\n                if (result.currentYear) {\n                    div.classList.add('current-year')\n                }\n\n                const template = `\n                <span></span>\n                <p>Leerjaar ${result.studyYear}</p>\n                <p>${result.studypoints.achieved}/${result.studypoints.available} studiepunten</p>`\n\n                // InsertAdjacentHtml\n                // Template engine uitzoeken voor Webcomponents\n\n                div.innerHTML = template\n                this.progressContainer.append(div)\n            })\n        }\n\n\n        resultComponent(results) {\n            results.forEach(result => {\n                // Parent container\n                const div = document.createElement('div')\n\n                let indicator\n                if (typeof result.grade === 'number' && result.grade >= 5.5 || result.grade === 'V') {\n                    indicator = `<span class=\"success\"></span>`\n                } else if (typeof result.grade === 'number' && result.grade < 5.5 || result.grade === '-' || result.grade === 'GR') {\n                    indicator = `<span class=\"failed\"></span>`\n                }\n\n                const template = `\n                ${indicator}\n                <p>${result._links.course.title}</p>\n                <p>${result.grade}</p>\n                <p>${result.fullDate}</p>\n                `\n\n                div.innerHTML = template\n                this.resultsContainer.append(div)\n            })\n        }\n\n        // Helpers\n        getData() {\n            const options = {\n                method: 'GET',\n                headers: { 'Content-Type': 'application/json' }\n            }\n\n            return fetch('/studyprogress', options).then(res => res.json())\n        }\n    }\n\n    customElements.define('study-progress', StudyProgress)\n}","import * as utils from '../modules/utils.mjs'\n\nexport { template as WC_urgentAnnouncement }\n\nconst template = document.createElement('template')\ntemplate.innerHTML = `\n<style>\n    div {\n        display: grid;\n        grid-template-columns: 1fr 50px;\n        grid-template-rows: 50px;\n        align-items: center;\n        background-color: #ECE7FA;\n    }\n    div.hide {\n        position: absolute;\n        left: -9999px;\n    }\n    p {\n        margin: 0;\n        padding-left: 30px;\n        color: black;\n        justify-self: start;\n    }\n    @media only screen and (max-width: 425px) {\n        p {\n            padding-left: 10px;\n        }\n    }\n    img {\n        padding-right: 20px;\n        grid-column: 2 / 3;\n        justify-self: end;\n        cursor: pointer;\n    }\n</style>\n<div class=\"hide\">\n    <p></p>\n    <img src=\"./media/icons/notification-exit.svg\" alt=\"hide notification\">\n</div>`\n\n\n\nclass urgentAnnouncement extends HTMLElement {\n\n    constructor() {\n        super()\n\n        this.attachShadow({ mode: 'open' })\n        this.shadowRoot.appendChild(template.content.cloneNode(true))\n        this.shadowRoot.querySelector('p').textContent = this.getAttribute('message')\n        this.shadowRoot.querySelector('img').addEventListener('click', () => {\n            this.hide()\n            this.store()\n        })\n    }\n\n    static get observedAttributes() {\n        return ['uid']\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue != newValue && newValue != \"\") {\n            const uid = this.getAttribute('uid')\n            const storedHistory = utils.getLocalStorage('read-history')\n            if (storedHistory) {\n                if (!storedHistory.includes(uid)) {\n                    this.updateContent()\n                    this.show()\n                }\n            } else {\n                this.updateContent()\n                this.show()\n            }\n        }\n    }\n\n    updateContent() {\n        this.shadowRoot.querySelector('p').textContent = this.getAttribute('message')\n    }\n\n    show() {\n        this.shadowRoot.querySelector('div').classList.remove('hide')\n        document.querySelector('main').classList.add('showsNotification')\n    }\n\n    hide() {\n        this.shadowRoot.querySelector('div').classList.add('hide')\n        document.querySelector('main').classList.remove('showsNotification')\n    }\n\n    store() {\n        if (utils.storageAvailable('localStorage')) {\n            const storedHistory = utils.getLocalStorage('read-history')\n            const readHistory = storedHistory ? storedHistory : []\n\n            readHistory.push(this.getAttribute('uid'))\n            utils.setLocalStorage('read-history', readHistory)\n        }\n    }\n}\n\nwindow.customElements.define('urgent-announcement', urgentAnnouncement)"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvaW5kZXguanMiLCJzcmMvanMvbW9kdWxlcy9zZWFyY2gubWpzIiwic3JjL2pzL21vZHVsZXMvdG9nZ2xlUHJlZmVyZW5jZXMubWpzIiwic3JjL2pzL21vZHVsZXMvdXRpbHMubWpzIiwic3JjL2pzL3dlYi1jb21wb25lbnRzL2NvdXJzZS1vdmVydmlldy5tanMiLCJzcmMvanMvd2ViLWNvbXBvbmVudHMvc2NoZWR1bGUubWpzIiwic3JjL2pzL3dlYi1jb21wb25lbnRzL3N0dWR5LXByb2dyZXNzLm1qcyIsInNyYy9qcy93ZWItY29tcG9uZW50cy91cmdlbnQtYW5ub3VuY2VtZW50Lm1qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUNBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFJQSxJQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixFQUErQixFQUEvQixDQUFrQyxXQUFsQyxFQUFiLEMsQ0FFQTs7QUFDQSxJQUFJLElBQUksS0FBSyxXQUFiLEVBQTBCO0FBQ3RCLE1BQU0sV0FBVyxHQUFHLENBQUMsZ0JBQUQsRUFBbUIsaUJBQW5CLEVBQXNDLFVBQXRDLENBQXBCO0FBQ0EsTUFBTSxjQUFjLEdBQUcsQ0FBQyxnQkFBRCxFQUFtQixpQkFBbkIsRUFBc0MsaUJBQXRDLENBQXZCO0FBQ0EsRUFBQSxhQUFhLENBQUMsV0FBRCxFQUFjLGNBQWQsQ0FBYjtBQUNIOztBQUVELElBQUksSUFBSSxLQUFLLFNBQWIsRUFBd0I7QUFDcEI7QUFDSDs7QUFFRCxTQUFTLGFBQVQsQ0FBdUIsR0FBdkIsRUFBNEIsTUFBNUIsRUFBb0M7QUFDaEMsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFiLEVBQWdCLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBeEIsRUFBZ0MsQ0FBQyxFQUFqQyxFQUFxQztBQUNqQyxRQUFJ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SDs7OzJCQUVNO0FBQ0gsV0FBSyxVQUFMLENBQWdCLGFBQWhCLENBQThCLEtBQTlCLEVBQXFDLFNBQXJDLENBQStDLE1BQS9DLENBQXNELE1BQXREO0FBQ0EsTUFBQSxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixFQUErQixTQUEvQixDQUF5QyxHQUF6QyxDQUE2QyxtQkFBN0M7QUFDSDs7OzJCQUVNO0FBQ0gsV0FBSyxVQUFMLENBQWdCLGFBQWhCLENBQThCLEtBQTlCLEVBQXFDLFNBQXJDLENBQStDLEdBQS9DLENBQW1ELE1BQW5EO0FBQ0EsTUFBQSxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixFQUErQixTQUEvQixDQUF5QyxNQUF6QyxDQUFnRCxtQkFBaEQ7QUFDSDs7OzRCQUVPO0FBQ0osVUFBSSxLQUFLLENBQUMsZ0JBQU4sQ0FBdUIsY0FBdkIsQ0FBSixFQUE0QztBQUN4QyxZQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsZUFBTixDQUFzQixjQUF0QixDQUF0QjtBQUNBLFlBQU0sV0FBVyxHQUFHLGFBQWEsR0FBRyxhQUFILEdBQW1CLEVBQXBEO0FBRUEsUUFBQSxXQUFXLENBQUMsSUFBWixDQUFpQixLQUFLLFlBQUwsQ0FBa0IsS0FBbEIsQ0FBakI7QUFDQSxRQUFBLEtBQUssQ0FBQyxlQUFOLENBQXNCLGNBQXRCLEVBQXNDLFdBQXRDO0FBQ0g7QUFDSjs7O3dCQTFDK0I7QUFDNUIsYUFBTyxDQUFDLEtBQUQsQ0FBUDtBQUNIOzs7O2lDQWhCNEIsVzs7QUEyRGpDLE1BQU0sQ0FBQyxjQUFQLENBQXNCLE1BQXRCLENBQTZCLHFCQUE3QixFQUFvRCxrQkFBcEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL21vZHVsZXMvdXRpbHMubWpzJ1xuaW1wb3J0ICogYXMgc2VhcmNoIGZyb20gJy4vbW9kdWxlcy9zZWFyY2gubWpzJ1xuaW1wb3J0IHRvZ2dsZVByZWZlcmVuY2VzIGZyb20gJy4vbW9kdWxlcy90b2dnbGVQcmVmZXJlbmNlcy5tanMnXG5pbXBvcnQgdXJnZW50QW5ub3VuY2VtZW50IGZyb20gJy4vd2ViLWNvbXBvbmVudHMvdXJnZW50LWFubm91bmNlbWVudC5tanMnXG5pbXBvcnQgeyBXQ19zdHVkeXByb2dyZXNzIH0gZnJvbSAnLi93ZWItY29tcG9uZW50cy9zdHVkeS1wcm9ncmVzcy5tanMnXG5pbXBvcnQgeyBXQ19zY2hlZHVsZVdpZGdldCB9IGZyb20gJy4vd2ViLWNvbXBvbmVudHMvc2NoZWR1bGUubWpzJ1xuaW1wb3J0IHsgV0NfY291cnNlb3ZlcnZpZXcgfSBmcm9tICcuL3dlYi1jb21wb25lbnRzL2NvdXJzZS1vdmVydmlldy5tanMnXG5cblxuXG5jb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmlkLnRvTG93ZXJDYXNlKClcblxuLy9pbml0IGRhc2hib2FyZFxuaWYgKHBhZ2UgPT09ICdkYXNoYm9hcmQnKSB7XG4gICAgY29uc3QgZG9tRWxlbWVudHMgPSBbJ3N0dWR5LXByb2dyZXNzJywgJ2NvdXJzZS1vdmVydmlldycsICdzY2hlZHVsZSddXG4gICAgY29uc3Qgd2lkZ2V0RWxlbWVudHMgPSBbJ3N0dWR5LXByb2dyZXNzJywgJ2NvdXJzZS1vdmVydmlldycsICdzY2hlZHVsZS13aWRnZXQnXVxuICAgIGFwcGVuZFdpZGdldHMoZG9tRWxlbWVudHMsIHdpZGdldEVsZW1lbnRzKVxufVxuXG5pZiAocGFnZSA9PT0gJ2FjY291bnQnKSB7XG4gICAgdG9nZ2xlUHJlZmVyZW5jZXMoKVxufVxuXG5mdW5jdGlvbiBhcHBlbmRXaWRnZXRzKGRvbSwgd2lkZ2V0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb20ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvbVtpXSkpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvbVtpXSkucmVtb3ZlKClcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluIHNlY3Rpb24nKS5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh3aWRnZXRbaV0pKVxuICAgIH1cblxuICAgIFdDX3N0dWR5cHJvZ3Jlc3MoKVxuICAgIFdDX2NvdXJzZW92ZXJ2aWV3KClcbiAgICBXQ19zY2hlZHVsZVdpZGdldCgpXG59XG5cblxuLy9jaGVjayBpZiBicm93c2VyIGlzIG9ubGluZVxuaWYgKG5hdmlnYXRvci5vbkxpbmUpIHtcbiAgICAvL3VyZ2VudCBhbm5vdW5jZW1lbnRzXG4gICAgY29uc3Qgc29ja2V0ID0gaW8oKVxuXG4gICAgLy9zdWJzY3JpYmUgdG8gdXJnZW50LWFubm91bmNlbWVudHNcbiAgICBzb2NrZXQuZW1pdCgnam9pbicsIHBhZ2UpXG5cbiAgICAvL29uIHVyZ2VudC1hbm5vdW5jZW1lbnQgaG9vayB1cGRhdGUgaW50ZXJmYWNlIChzZWUgV0NfdXJnZW50QW5ub3VuY2VtZW50KVxuICAgIHNvY2tldC5vbigndXJnZW50LWFubm91bmNlbWVudCcsIGFubm91bmNlbWVudCA9PiB7XG4gICAgICAgIGNvbnN0IHVyZ2VudEFubm91bmNlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VyZ2VudC1hbm5vdW5jZW1lbnQnKVxuXG4gICAgICAgIGlmICh1dGlscy5leGlzdHMoW3VyZ2VudEFubm91bmNlbWVudF0pKSB7XG4gICAgICAgICAgICB1cmdlbnRBbm5vdW5jZW1lbnQuc2V0QXR0cmlidXRlKCdtZXNzYWdlJywgYW5ub3VuY2VtZW50LnRpdGxlKVxuICAgICAgICAgICAgdXJnZW50QW5ub3VuY2VtZW50LnNldEF0dHJpYnV0ZSgndWlkJywgYW5ub3VuY2VtZW50Lm5ld3NJdGVtSWQpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5cblxuXG4vL21lbnUgXG5jb25zdCBtZW51SWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LWljb24nKVxuY29uc3QgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51JylcblxuaWYgKHV0aWxzLmV4aXN0cyhbbWVudUljb24sIG1lbnVdKSkge1xuXG4gICAgLy90b2dnbGUgbWVudSAob24gbW9iaWxlKVxuICAgIG1lbnVJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUnKVxuICAgIH0pXG59XG5cblxuXG5cbi8vc2VhcmNoIFxuY29uc3Qgc2VhcmNoQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1iYXInKVxuY29uc3Qgc2VhcmNoUmVzZXRJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1yZXNldCcpXG5jb25zdCBzZWFyY2hJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlYXJjaC1jb250YWluZXIgaW5wdXRbdHlwZT1zdWJtaXRdJylcblxuaWYgKHV0aWxzLmV4aXN0cyhbc2VhcmNoQmFyLCBzZWFyY2hSZXNldEljb24sIHNlYXJjaEljb25dKSkge1xuXG4gICAgLy9jb250cm9sIHNlYXJjaC1yZXNldCBpY29uIFxuICAgIHNlYXJjaEJhci5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHNlYXJjaC5zaG93UmVzZXQoKSlcbiAgICBzZWFyY2hCYXIuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHNlYXJjaC5oaWRlUmVzZXQoKSlcblxuXG4gICAgLy9yZXNldCBzZWFyY2ggaW5wdXRcbiAgICBzZWFyY2hSZXNldEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHNlYXJjaC5yZXNldChlKSlcblxuXG4gICAgLy9kZXBlbmRpbmcgb24gc2VhcmNoLXF1ZXJ5IGVpdGhlciBnaXZlIGZvY3VzIHRvIHNlYXJjaGJhciBvciBzdWJtaXQgc2VhcmNoLXF1ZXJ5XG4gICAgc2VhcmNoSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBpZiAoc2VhcmNoQmFyLnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICBzZWFyY2guZm9jdXMoZSlcbiAgICAgICAgfVxuICAgIH0pXG5cblxuICAgIC8vbGlzdGVuIHRvIGtleWJvYXJkIGlucHV0XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBlID0+IHtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSBcIi9cIjpcbiAgICAgICAgICAgICAgICBzZWFyY2guZm9jdXMoZSkgLy9naXZlIHNlYXJjaGJhciBmb2N1cyBhbmQgaGlkZSBzZWFyY2gtcmVzZXQgaWNvblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICB9KVxufSIsImNvbnN0IHNlYXJjaEJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtYmFyJylcbmNvbnN0IHNlYXJjaFJlc2V0SWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtcmVzZXQnKVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXMoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIHNlYXJjaEJhci5mb2N1cygpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93UmVzZXQoKSB7XG4gICAgc2VhcmNoUmVzZXRJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZVJlc2V0KCkge1xuICAgIGlmIChzZWFyY2hCYXIudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgc2VhcmNoUmVzZXRJY29uLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0KGUpIHtcbiAgICBzZWFyY2hCYXIudmFsdWUgPSBcIlwiXG4gICAgZm9jdXMoZSlcbn0iLCJpbXBvcnQgeyBzZXRMb2NhbFN0b3JhZ2UsIGdldExvY2FsU3RvcmFnZSB9IGZyb20gJy4uL21vZHVsZXMvdXRpbHMubWpzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVQcmVmZXJlbmNlcygpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWNjb3VudCBmb3JtJykuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgIGNvbnN0IGlucHV0cyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjYWNjb3VudCBmb3JtIGxhYmVsJyldXG4gICAgbGV0IHByZWZlcmVuY2VzID0gW11cblxuICAgIGlucHV0cy5mb3JFYWNoKGxhYmVsID0+IHtcbiAgICAgICAgLy8gRGF0YVxuICAgICAgICBjb25zdCBpZCA9IGxhYmVsLmlkXG4gICAgICAgIGNvbnN0IHRleHQgPSBsYWJlbC50ZXh0Q29udGVudFxuICAgICAgICBjb25zdCBzdGF0ZSA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZFxuXG4gICAgICAgIC8vIFNldCBMb2NhbFN0b3JhZ2VcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0geyBpZDogaWQsIG5hbWU6IHRleHQsIHN0YXRlOiBzdGF0ZSB9XG4gICAgICAgIHByZWZlcmVuY2VzLnB1c2gob2JqZWN0KVxuICAgICAgICBzZXRMb2NhbFN0b3JhZ2UoJ3ByZWZlcmVuY2VzJywgcHJlZmVyZW5jZXMpXG5cbiAgICAgICAgLy8gVG9nZ2xlXG4gICAgICAgIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIC8vIERhdGFcbiAgICAgICAgICAgIGNvbnN0IGlkID0gbGFiZWwuaWRcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWRcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIExvY2FsU3RvcmFnZVxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGdldExvY2FsU3RvcmFnZSgncHJlZmVyZW5jZXMnKVxuICAgICAgICAgICAgZGF0YVtpZF0uc3RhdGUgPSBzdGF0ZVxuICAgICAgICAgICAgc2V0TG9jYWxTdG9yYWdlKCdwcmVmZXJlbmNlcycsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgfSlcbn0iLCJleHBvcnQgZnVuY3Rpb24gZXhpc3RzKFsuLi52YXJpYWJsZXNdKSB7XG4gICAgY29uc3QgZXhpc3RzID0gdmFyaWFibGVzLmV2ZXJ5KHZhcmlhYmxlID0+IHZhcmlhYmxlICE9IG51bGwpXG4gICAgcmV0dXJuIGV4aXN0c1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2UobmFtZSwgaXRlbSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIEpTT04uc3RyaW5naWZ5KGl0ZW0pKVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UoaXRlbSkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGl0ZW0pKVxufVxuXG5cblxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcmFnZUF2YWlsYWJsZSh0eXBlKSB7IC8vc291cmNlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViX1N0b3JhZ2VfQVBJL1VzaW5nX3RoZV9XZWJfU3RvcmFnZV9BUElcbiAgICBsZXQgc3RvcmFnZVxuICAgIHRyeSB7XG4gICAgICAgIHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV1cbiAgICAgICAgbGV0IHggPSAnX19zdG9yYWdlX3Rlc3RfXydcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpXG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh4KVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgIGUuY29kZSA9PT0gMjIgfHxcbiAgICAgICAgICAgICAgICBlLmNvZGUgPT09IDEwMTQgfHxcbiAgICAgICAgICAgICAgICBlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8XG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRUQnKSAmJlxuICAgICAgICAgICAgKHN0b3JhZ2UgJiYgc3RvcmFnZS5sZW5ndGggIT09IDApXG4gICAgfVxufSIsImV4cG9ydCB7IGluaXQgYXMgV0NfY291cnNlb3ZlcnZpZXcgfVxuXG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJylcbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbjxzdHlsZT5cbmgyIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgY29sb3I6ICMyNTE2N0E7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjREREREREO1xuICAgIG1hcmdpbjogMCAwIDE1cHggMDtcblx0Zm9udC1mYW1pbHk6IFwiT3BlblNhbnMtUmVndWxhclwiLCBzYW5zLXNlcmlmLCBBcmlhbCwgSGVsdmV0aWNhO1xuXHRmb250LXdlaWdodDogbGlnaHRlcjtcblx0bGluZS1oZWlnaHQ6IDEuMTtcbn1cblxucCB7XG5cdG1hcmdpbjogMDtcbn1cblxuLm5hdmlnYXRvciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0RERERERDtcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGNvbG9yOiAjMjUxNjdBO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuLm5hdmlnYXRvciBzcGFuICB7XG4gICAgY3Vyc29yOiBkZWZhdWx0O1xufVxuXG4ubmF2aWdhdG9yIGltZyB7XG4gICAgcGFkZGluZzogMTBweDtcbn1cblxuLm5hdmlnYXRvciBpbWc6bm90KC5kaXNhYmxlZCkge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLm5hdmlnYXRvciBpbWcuZGlzYWJsZWQge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIG9wYWNpdHk6IC41O1xufVxuXG4uY291cnNlIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcbiAgICBncmlkLWNvbHVtbi1nYXA6IDIwcHg7XG4gICAgcGFkZGluZzogMTVweCAyMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjREREREREO1xufVxuXG4uY291cnNlIHA6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgZm9udC1mYW1pbHk6IFwiT3BlblNhbnMtQm9sZFwiLCBzYW5zLXNlcmlmLCBBcmlhbCwgSGVsdmV0aWNhO1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cblxuLmNvdXJzZSB1bCB7XG4gICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG59XG5cbi5jb3Vyc2UgdWwgbGkge1xuICAgIGRpc3BsYXk6IGlubGluZTtcbn1cblxuLmNvdXJzZSB1bCBsaTpub3QoOmxhc3Qtb2YtdHlwZSk6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IFwiLCBcIjtcbiAgICB3aGl0ZS1zcGFjZTogcHJlO1xufVxuXG5hIHtcbiAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICBjb2xvcjogIzI1MTY3QTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbmE6aG92ZXIsXG5hOmZvY3VzIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICBvdXRsaW5lOiBub25lO1xufVxuXG5hIGltZyB7XG4gICAgaGVpZ2h0OiAxMnB4O1xuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xufVxuPC9zdHlsZT5cblxuPGgyPlZha2tlbm92ZXJ6aWNodDwvaDI+XG5cbjxkaXYgY2xhc3M9XCJuYXZpZ2F0b3JcIj5cbiAgICA8aW1nIHNyYz1cIi9tZWRpYS9pY29ucy9hcnJvdy1sZWZ0LnN2Z1wiIGFsdD1cImFycm93LWxlZnRcIj48L2ltZz5cbiAgICA8c3Bhbj48L3NwYW4+XG4gICAgPGltZyBzcmM9XCIvbWVkaWEvaWNvbnMvYXJyb3ctcmlnaHQuc3ZnXCIgYWx0PVwiYXJyb3ctcmlnaHRcIj48L2ltZz5cbjwvZGl2PlxuXG48ZGl2IGlkPVwiY291cnNlLW92ZXJ2aWV3XCI+PC9kaXY+XG5cbjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL3Npcy5odmEubmwvXCI+Vm9sbGVkaWcgb3ZlcnppY2h0XG4gICAgPGltZyBzcmM9XCIvbWVkaWEvaWNvbnMvYXJyb3ctcmlnaHQuc3ZnXCIgYWx0PVwiYXJyb3ctcmlnaHRcIj48L2ltZz5cbjwvYT5cbmBcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjbGFzcyBDb3Vyc2VPdmVydmlldyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAvLyBTZXR1cFxuICAgICAgICAgICAgc3VwZXIoKVxuICAgICAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSlcbiAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSlcblxuICAgICAgICAgICAgLy8gVmFyaWFibGVzXG4gICAgICAgICAgICB0aGlzLmNvdXJzZUNvbnRhaW5lciA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjY291cnNlLW92ZXJ2aWV3JylcbiAgICAgICAgICAgIHRoaXMuY291cnNlTW9tZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0b3Igc3BhbicpXG4gICAgICAgICAgICB0aGlzLmFycm93UHJldmlvdXMgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLm5hdmlnYXRvciBpbWc6Zmlyc3Qtb2YtdHlwZScpXG4gICAgICAgICAgICB0aGlzLmFycm93TmV4dCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdG9yIGltZzpsYXN0LW9mLXR5cGUnKVxuICAgICAgICAgICAgdGhpcy55ZWFySW5kZXggPSAyXG4gICAgICAgICAgICB0aGlzLnF1YXJ0ZXJJbmRleCA9IDNcblxuICAgICAgICAgICAgLy8gRGF0YVxuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXREYXRhKCkudGhlbihqc29uID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlSGFuZGxlcigpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ganNvblt0aGlzLnllYXJJbmRleF0ucXVhcnRlcnNbdGhpcy5xdWFydGVySW5kZXhdLmNvdXJzZXNcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvdXJzZU92ZXJ2aWV3KGRhdGEpXG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBqc29uXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyBFdmVudExpc3RlbmVyc1xuICAgICAgICAgICAgdGhpcy5hcnJvd1ByZXZpb3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5uYXZpZ2F0ZSgncHJldmlvdXMnKSlcbiAgICAgICAgICAgIHRoaXMuYXJyb3dOZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5uYXZpZ2F0ZSgnbmV4dCcpKVxuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlTmF2aWdhdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5jb3Vyc2VNb21lbnQudGV4dENvbnRlbnQgPSBgSmFhciAke3RoaXMueWVhckluZGV4ICsgMX0gLSBCbG9rICR7dGhpcy5xdWFydGVySW5kZXggKyAxfWBcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZUNvdXJzZU92ZXJ2aWV3KGNvdXJzZXMpIHtcbiAgICAgICAgICAgIHRoaXMuY291cnNlQ29udGFpbmVyLnRleHRDb250ZW50ID0gXCJcIlxuICAgICAgICAgICAgdGhpcy51cGRhdGVOYXZpZ2F0b3IoKVxuXG4gICAgICAgICAgICBjb3Vyc2VzLmZvckVhY2goY291cnNlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdjb3Vyc2UnKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY291cnNlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICAgICAgICAgIGNvdXJzZU5hbWUudGV4dENvbnRlbnQgPSBjb3Vyc2UuY291cnNlXG4gICAgICAgICAgICAgICAgZGl2LmFwcGVuZChjb3Vyc2VOYW1lKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcbiAgICAgICAgICAgICAgICBjb3Vyc2UubGVjdHVyZXJzLmZvckVhY2gobGVjdHVyZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZWFjaGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxuICAgICAgICAgICAgICAgICAgICBsZWN0dXJlciA9PT0gXCJcIiA/IHRlYWNoZXIudGV4dENvbnRlbnQgPSAnR2VlbiBzcGVjaWZpZWtlIGRvY2VudCcgOiB0ZWFjaGVyLnRleHRDb250ZW50ID0gbGVjdHVyZXJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQodGVhY2hlcilcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGRpdi5hcHBlbmQobGlzdClcblxuICAgICAgICAgICAgICAgIHRoaXMuY291cnNlQ29udGFpbmVyLmFwcGVuZChkaXYpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbmF2aWdhdGUoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldmlvdXMnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucXVhcnRlckluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YXJ0ZXJJbmRleC0tXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnF1YXJ0ZXJJbmRleCA9PT0gMCAmJiB0aGlzLnllYXJJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWFydGVySW5kZXggPSAzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVhckluZGV4LS1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnF1YXJ0ZXJJbmRleCA8IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWFydGVySW5kZXgrK1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5xdWFydGVySW5kZXggPT09IDMgJiYgdGhpcy55ZWFySW5kZXggPCAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVhcnRlckluZGV4ID0gMFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXJJbmRleCsrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlSGFuZGxlcigpXG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGFbdGhpcy55ZWFySW5kZXhdLnF1YXJ0ZXJzW3RoaXMucXVhcnRlckluZGV4XS5jb3Vyc2VzXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvdXJzZU92ZXJ2aWV3KGRhdGEpXG4gICAgICAgIH1cblxuICAgICAgICBuYXZpZ2F0ZUhhbmRsZXIoKSB7XG4gICAgICAgICAgICB0aGlzLnllYXJJbmRleCA9PT0gMCAmJiB0aGlzLnF1YXJ0ZXJJbmRleCA9PT0gMCA/XG4gICAgICAgICAgICAgICAgdGhpcy5hcnJvd1ByZXZpb3VzLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJykgOiB0aGlzLmFycm93UHJldmlvdXMuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuXG4gICAgICAgICAgICB0aGlzLnllYXJJbmRleCA9PT0gMyAmJiB0aGlzLnF1YXJ0ZXJJbmRleCA9PT0gMyA/XG4gICAgICAgICAgICAgICAgdGhpcy5hcnJvd05leHQuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKSA6IHRoaXMuYXJyb3dOZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJylcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhlbHBlcnNcbiAgICAgICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goJy9jb3Vyc2VvdmVydmlldycsIG9wdGlvbnMpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2NvdXJzZS1vdmVydmlldycsIENvdXJzZU92ZXJ2aWV3KVxufSIsImV4cG9ydCB7IGluaXQgYXMgV0Nfc2NoZWR1bGVXaWRnZXQgfVxuXG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJylcbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbjxzdHlsZT5cbmgyIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgY29sb3I6ICMyNTE2N0E7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjREREREREO1xuICAgIG1hcmdpbjogMCAwIDE1cHggMDtcblx0Zm9udC1mYW1pbHk6IFwiT3BlblNhbnMtUmVndWxhclwiLCBzYW5zLXNlcmlmLCBBcmlhbCwgSGVsdmV0aWNhO1xuXHRmb250LXdlaWdodDogbGlnaHRlcjtcblx0bGluZS1oZWlnaHQ6IDEuMTtcbn1cblxucCB7XG5cdG1hcmdpbjogMDtcbn1cblxuLm5hdmlnYXRvciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0RERERERDtcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGNvbG9yOiAjMjUxNjdBO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuLm5hdmlnYXRvciBzcGFuICB7XG4gICAgY3Vyc29yOiBkZWZhdWx0O1xufVxuXG4ubmF2aWdhdG9yIGltZyB7XG4gICAgcGFkZGluZzogMTBweDtcbn1cblxuLm5hdmlnYXRvciBpbWc6bm90KC5kaXNhYmxlZCkge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLm5hdmlnYXRvciBpbWcuZGlzYWJsZWQge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIG9wYWNpdHk6IC41O1xufVxuXG4uc2NoZWR1bGUtY291cnNlIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byAxZnI7XG4gICAgZ3JpZC1jb2x1bW4tZ2FwOiAyMHB4O1xuICAgIGdyaWQtcm93LWdhcDogNXB4O1xuICAgIHBhZGRpbmc6IDE1cHggMjBweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0RERERERDtcbn1cblxuLnNjaGVkdWxlLWNvdXJzZSBwOmZpcnN0LW9mLXR5cGUsXG4uc2NoZWR1bGUtY291cnNlIHA6bnRoLW9mLXR5cGUoMykge1xuICAgIGZvbnQtZmFtaWx5OiBcIk9wZW5TYW5zLUJvbGRcIiwgc2Fucy1zZXJpZiwgQXJpYWwsIEhlbHZldGljYTtcbn1cblxuYSB7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgY29sb3I6ICMyNTE2N0E7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG5hOmhvdmVyLFxuYTpmb2N1cyB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgb3V0bGluZTogbm9uZTtcbn1cblxuYSBpbWcge1xuICAgIGhlaWdodDogMTJweDtcbiAgICBtYXJnaW4tbGVmdDogMjBweDtcbn1cbjwvc3R5bGU+XG48aDI+RGFncm9vc3RlcjwvaDI+XG48ZGl2IGNsYXNzPVwibmF2aWdhdG9yXCI+XG5cdDxpbWcgc3JjPVwiL21lZGlhL2ljb25zL2Fycm93LWxlZnQuc3ZnXCIgYWx0PVwiYXJyb3ctbGVmdFwiIGNsYXNzPVwiZGlzYWJsZWRcIj48L2ltZz5cblx0PHNwYW4+PC9zcGFuPlxuXHQ8aW1nIHNyYz1cIi9tZWRpYS9pY29ucy9hcnJvdy1yaWdodC5zdmdcIiBhbHQ9XCJhcnJvdy1yaWdodFwiPjwvaW1nPlxuPC9kaXY+XG48ZGl2IGlkPVwic2NoZWR1bGVzLWNvbnRhaW5lclwiPjwvZGl2PlxuPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vcm9vc3Rlci5odmEubmwvc2NoZWR1bGVcIj5Wb2xsZWRpZyByb29zdGVyXG5cdDxpbWcgc3JjPVwiL21lZGlhL2ljb25zL2Fycm93LXJpZ2h0LnN2Z1wiIGFsdD1cImFycm93LXJpZ2h0XCI+PC9pbWc+XG48L2E+XG5gXG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgY2xhc3Mgc2NoZWR1bGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KVxuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKVxuXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldERhdGEoKVxuICAgICAgICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjaGVkdWxlKGpzb25bMF0pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGpzb25cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRvciA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdG9yJylcbiAgICAgICAgICAgIHRoaXMuYXJyb3dQcmV2aW91cyA9IHRoaXMubmF2aWdhdG9yLnF1ZXJ5U2VsZWN0b3IoJ2ltZzpmaXJzdC1vZi10eXBlJylcbiAgICAgICAgICAgIHRoaXMuYXJyb3dOZXh0ID0gdGhpcy5uYXZpZ2F0b3IucXVlcnlTZWxlY3RvcignaW1nOmxhc3Qtb2YtdHlwZScpXG5cbiAgICAgICAgICAgIHRoaXMuYXJyb3dOZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5uYXZpZ2F0ZSgnbmV4dCcpKVxuICAgICAgICAgICAgdGhpcy5hcnJvd1ByZXZpb3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5uYXZpZ2F0ZSgncHJldmlvdXMnKSlcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSAwXG4gICAgICAgIH1cblxuICAgICAgICBnZXREYXRhKCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmZXRjaCgnL3NjaGVkdWxlJywgb3B0aW9ucykudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZVNjaGVkdWxlKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVkdWxlc0NvbnRhaW5lciA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnc2NoZWR1bGVzLWNvbnRhaW5lcicpXG4gICAgICAgICAgICBzY2hlZHVsZXNDb250YWluZXIudGV4dENvbnRlbnQgPSBcIlwiXG5cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS50ZXh0Q29udGVudCA9IGAke2RhdGEuZGF5fS0ke2RhdGEubW9udGh9LSR7ZGF0YS55ZWFyfWBcblxuICAgICAgICAgICAgZGF0YS5zY2hlZHVsZXMuZm9yRWFjaChzY2hlZHVsZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhc3NSb29tID0gc2NoZWR1bGUuX2VtYmVkZGVkID8gc2NoZWR1bGUuX2VtYmVkZGVkLnJvb21zWzBdLmFiYnJldmlhdGlvbiA6IFwiR2VlbiBsb2thYWxcIlxuXG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnc2NoZWR1bGUtY291cnNlJylcbiAgICAgICAgICAgICAgICBzY2hlZHVsZXNDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICAgICAgICAgIHRpbWUudGV4dENvbnRlbnQgPSBgJHtzY2hlZHVsZS5zdGFydERhdGVUaW1lLnRpbWV9IC0gJHtzY2hlZHVsZS5lbmREYXRlVGltZS50aW1lfWBcbiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGltZSlcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgICAgICAgICBuYW1lLnRleHRDb250ZW50ID0gc2NoZWR1bGUuX2xpbmtzLmNvdXJzZXNbMF0udGl0bGVcbiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobmFtZSlcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJvb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgICAgICAgICByb29tLnRleHRDb250ZW50ID0gY2xhc3NSb29tXG4gICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHJvb20pXG5cbiAgICAgICAgICAgICAgICBjb25zdCB0ZWFjaGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgICAgICAgICAgdGVhY2hlci50ZXh0Q29udGVudCA9IHNjaGVkdWxlLl9saW5rcy5sZWN0dXJlcnNbMF0udGl0bGVcbiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGVhY2hlcilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBuYXZpZ2F0ZShkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gJ3ByZXZpb3VzJyA/IHRoaXMuaW5kZXgtLSA6IHRoaXMuaW5kZXgrK1xuXG4gICAgICAgICAgICB0aGlzLmluZGV4ID09PSAwID8gdGhpcy5hcnJvd1ByZXZpb3VzLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJykgOiB0aGlzLmFycm93UHJldmlvdXMuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxuICAgICAgICAgICAgdGhpcy5pbmRleCA9PT0gNCA/IHRoaXMuYXJyb3dOZXh0LmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJykgOiB0aGlzLmFycm93TmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpXG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2NoZWR1bGUodGhpcy5kYXRhW3RoaXMuaW5kZXhdKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2NoZWR1bGUtd2lkZ2V0Jywgc2NoZWR1bGUpXG59IiwiZXhwb3J0IHsgaW5pdCBhcyBXQ19zdHVkeXByb2dyZXNzIH1cblxuY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpXG50ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG48c3R5bGU+XG5oMiB7XG4gICAgZm9udC1zaXplOiAyNHB4O1xuICAgIGNvbG9yOiAjMjUxNjdBO1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0RERERERDtcbiAgICBtYXJnaW46IDAgMCAxNXB4IDA7XG4gICAgZm9udC1mYW1pbHk6IFwiT3BlblNhbnMtUmVndWxhclwiLCBzYW5zLXNlcmlmLCBBcmlhbCwgSGVsdmV0aWNhO1xuICAgIGZvbnQtd2VpZ2h0OiBsaWdodGVyO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjE7XG59XG5cbnAge1xuICAgIG1hcmdpbjogMDtcbn1cblxuI3JlY2VudC1yZXN1bHRzIGRpdiB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gMWZyIGF1dG87XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgYXV0bztcbn1cblxuI3JlY2VudC1yZXN1bHRzIGRpdjpub3QoOmxhc3Qtb2YtdHlwZSkge1xuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG59XG5cbiNyZWNlbnQtcmVzdWx0cyBzcGFuIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBncmlkLWNvbHVtbjogMSAvIDI7XG4gICAgZ3JpZC1yb3c6IDEgLyAzO1xuICAgIHdpZHRoOiA1cHg7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuXG5zcGFuLnN1Y2Nlc3Mge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMyNTE2N0E7XG59XG5cbnNwYW4uZmFpbGVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjREREREREO1xufVxuXG4jcmVjZW50LXJlc3VsdHMgcDpudGgtb2YtdHlwZSgxKSB7XG4gICAgZ3JpZC1jb2x1bW46IDIgLyAzO1xuICAgIHBhZGRpbmc6IDRweCAwcHggMHB4IDEwcHg7XG59XG5cbiNyZWNlbnQtcmVzdWx0cyBwOm50aC1vZi10eXBlKDIpIHtcbiAgICBncmlkLXJvdzogMSAvIDM7XG4gICAgZ3JpZC1jb2x1bW46IDMgLyA0O1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cblxuI3JlY2VudC1yZXN1bHRzIHA6bnRoLW9mLXR5cGUoMykge1xuICAgIHBhZGRpbmc6IDBweCAwcHggNHB4IDEwcHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjNjY2NjY2O1xufVxuXG4jcmVjZW50LXJlc3VsdHMgcDpudGgtb2YtdHlwZSgxKSxcbiNyZWNlbnQtcmVzdWx0cyBwOm50aC1vZi10eXBlKDIpIHtcbiAgICBmb250LWZhbWlseTogXCJPcGVuU2Fucy1Cb2xkXCIsIHNhbnMtc2VyaWYsIEFyaWFsLCBIZWx2ZXRpY2E7XG5cbn1cblxuI3JlY2VudC1wcm9ncmVzcyB7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbn1cblxuI3JlY2VudC1wcm9ncmVzcyBkaXYge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIDFmciBhdXRvO1xufVxuXG4jcmVjZW50LXByb2dyZXNzIGRpdiBzcGFuIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHdpZHRoOiA1cHg7XG59XG5cbiNyZWNlbnQtcHJvZ3Jlc3MgcCB7XG4gICAgcGFkZGluZzogNXB4IDBweDtcbn1cblxuI3JlY2VudC1wcm9ncmVzcyBwOmZpcnN0LW9mLXR5cGUge1xuICAgIHBhZGRpbmctbGVmdDogMTBweDtcbn1cblxuI3JlY2VudC1wcm9ncmVzcyAuY3VycmVudC15ZWFyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjREREREREO1xufVxuXG4jcmVjZW50LXByb2dyZXNzIC5jdXJyZW50LXllYXIgc3BhbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI1MTY3QTtcbn1cblxuI3JlY2VudC1wcm9ncmVzcyAuY3VycmVudC15ZWFyIHAge1xuICAgIGZvbnQtZmFtaWx5OiBcIk9wZW5TYW5zLUJvbGRcIiwgc2Fucy1zZXJpZiwgQXJpYWwsIEhlbHZldGljYTtcbn1cblxuI3JlY2VudC1wcm9ncmVzcyAuY3VycmVudC15ZWFyIHA6bGFzdC1vZi10eXBlIHtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xufVxuXG5hIHtcbiAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICBjb2xvcjogIzI1MTY3QTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbmE6aG92ZXIsXG5hOmZvY3VzIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICBvdXRsaW5lOiBub25lO1xufVxuXG5hIGltZyB7XG4gICAgaGVpZ2h0OiAxMnB4O1xuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xufVxuPC9zdHlsZT5cblxuPGgyPlN0dWRpZXJlc3VsdGF0ZW4gZW4gLXZvb3J0Z2FuZzwvaDI+XG5cbjxkaXYgaWQ9XCJyZWNlbnQtcmVzdWx0c1wiPjwvZGl2PlxuPGRpdiBpZD1cInJlY2VudC1wcm9ncmVzc1wiPjwvZGl2PlxuXG48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9zaXMuaHZhLm5sL1wiPkFsbGUgcmVzdWx0YXRlbiBpbiBTSVNcbiAgICA8aW1nIHNyYz1cIi9tZWRpYS9pY29ucy9hcnJvdy1yaWdodC5zdmdcIiBhbHQ9XCJhcnJvdy1yaWdodFwiPjwvaW1nPlxuPC9hPlxuYFxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGNsYXNzIFN0dWR5UHJvZ3Jlc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgLy8gU2V0dXBcbiAgICAgICAgICAgIHN1cGVyKClcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pXG4gICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpXG5cbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0RGF0YSgpLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3Jlc3VsdHMsIHByb2dyZXNzXSA9IGpzb25cblxuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Q29tcG9uZW50KHJlc3VsdHMpXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NvbXBvbmVudChwcm9ncmVzcylcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lciA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjcmVjZW50LXJlc3VsdHMnKVxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NvbnRhaW5lciA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjcmVjZW50LXByb2dyZXNzJylcbiAgICAgICAgfVxuXG4gICAgICAgIHByb2dyZXNzQ29tcG9uZW50KHJlc3VsdHMpIHtcbiAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jdXJyZW50WWVhcikge1xuICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnY3VycmVudC15ZWFyJylcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGBcbiAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPHA+TGVlcmphYXIgJHtyZXN1bHQuc3R1ZHlZZWFyfTwvcD5cbiAgICAgICAgICAgICAgICA8cD4ke3Jlc3VsdC5zdHVkeXBvaW50cy5hY2hpZXZlZH0vJHtyZXN1bHQuc3R1ZHlwb2ludHMuYXZhaWxhYmxlfSBzdHVkaWVwdW50ZW48L3A+YFxuXG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0QWRqYWNlbnRIdG1sXG4gICAgICAgICAgICAgICAgLy8gVGVtcGxhdGUgZW5naW5lIHVpdHpvZWtlbiB2b29yIFdlYmNvbXBvbmVudHNcblxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDb250YWluZXIuYXBwZW5kKGRpdilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuXG4gICAgICAgIHJlc3VsdENvbXBvbmVudChyZXN1bHRzKSB7XG4gICAgICAgICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAgICAgICAgICAgICAgIGxldCBpbmRpY2F0b3JcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC5ncmFkZSA9PT0gJ251bWJlcicgJiYgcmVzdWx0LmdyYWRlID49IDUuNSB8fCByZXN1bHQuZ3JhZGUgPT09ICdWJykge1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IgPSBgPHNwYW4gY2xhc3M9XCJzdWNjZXNzXCI+PC9zcGFuPmBcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHQuZ3JhZGUgPT09ICdudW1iZXInICYmIHJlc3VsdC5ncmFkZSA8IDUuNSB8fCByZXN1bHQuZ3JhZGUgPT09ICctJyB8fCByZXN1bHQuZ3JhZGUgPT09ICdHUicpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yID0gYDxzcGFuIGNsYXNzPVwiZmFpbGVkXCI+PC9zcGFuPmBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGBcbiAgICAgICAgICAgICAgICAke2luZGljYXRvcn1cbiAgICAgICAgICAgICAgICA8cD4ke3Jlc3VsdC5fbGlua3MuY291cnNlLnRpdGxlfTwvcD5cbiAgICAgICAgICAgICAgICA8cD4ke3Jlc3VsdC5ncmFkZX08L3A+XG4gICAgICAgICAgICAgICAgPHA+JHtyZXN1bHQuZnVsbERhdGV9PC9wPlxuICAgICAgICAgICAgICAgIGBcblxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lci5hcHBlbmQoZGl2KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhlbHBlcnNcbiAgICAgICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goJy9zdHVkeXByb2dyZXNzJywgb3B0aW9ucykudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc3R1ZHktcHJvZ3Jlc3MnLCBTdHVkeVByb2dyZXNzKVxufSIsImltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uL21vZHVsZXMvdXRpbHMubWpzJ1xuXG5leHBvcnQgeyB0ZW1wbGF0ZSBhcyBXQ191cmdlbnRBbm5vdW5jZW1lbnQgfVxuXG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJylcbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbjxzdHlsZT5cbiAgICBkaXYge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA1MHB4O1xuICAgICAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDUwcHg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFQ0U3RkE7XG4gICAgfVxuICAgIGRpdi5oaWRlIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAtOTk5OXB4O1xuICAgIH1cbiAgICBwIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDMwcHg7XG4gICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAganVzdGlmeS1zZWxmOiBzdGFydDtcbiAgICB9XG4gICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0MjVweCkge1xuICAgICAgICBwIHtcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMTBweDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbWcge1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xuICAgICAgICBncmlkLWNvbHVtbjogMiAvIDM7XG4gICAgICAgIGp1c3RpZnktc2VsZjogZW5kO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuPC9zdHlsZT5cbjxkaXYgY2xhc3M9XCJoaWRlXCI+XG4gICAgPHA+PC9wPlxuICAgIDxpbWcgc3JjPVwiLi9tZWRpYS9pY29ucy9ub3RpZmljYXRpb24tZXhpdC5zdmdcIiBhbHQ9XCJoaWRlIG5vdGlmaWNhdGlvblwiPlxuPC9kaXY+YFxuXG5cblxuY2xhc3MgdXJnZW50QW5ub3VuY2VtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KVxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpXG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdwJykudGV4dENvbnRlbnQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnbWVzc2FnZScpXG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdpbWcnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpXG4gICAgICAgICAgICB0aGlzLnN0b3JlKClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFsndWlkJ11cbiAgICB9XG5cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPSBuZXdWYWx1ZSAmJiBuZXdWYWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICBjb25zdCB1aWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgndWlkJylcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZEhpc3RvcnkgPSB1dGlscy5nZXRMb2NhbFN0b3JhZ2UoJ3JlYWQtaGlzdG9yeScpXG4gICAgICAgICAgICBpZiAoc3RvcmVkSGlzdG9yeSkge1xuICAgICAgICAgICAgICAgIGlmICghc3RvcmVkSGlzdG9yeS5pbmNsdWRlcyh1aWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGVudCgpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRlbnQoKVxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVDb250ZW50KCkge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcigncCcpLnRleHRDb250ZW50ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ21lc3NhZ2UnKVxuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdkaXYnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmNsYXNzTGlzdC5hZGQoJ3Nob3dzTm90aWZpY2F0aW9uJylcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignZGl2JykuY2xhc3NMaXN0LmFkZCgnaGlkZScpXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93c05vdGlmaWNhdGlvbicpXG4gICAgfVxuXG4gICAgc3RvcmUoKSB7XG4gICAgICAgIGlmICh1dGlscy5zdG9yYWdlQXZhaWxhYmxlKCdsb2NhbFN0b3JhZ2UnKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RvcmVkSGlzdG9yeSA9IHV0aWxzLmdldExvY2FsU3RvcmFnZSgncmVhZC1oaXN0b3J5JylcbiAgICAgICAgICAgIGNvbnN0IHJlYWRIaXN0b3J5ID0gc3RvcmVkSGlzdG9yeSA/IHN0b3JlZEhpc3RvcnkgOiBbXVxuXG4gICAgICAgICAgICByZWFkSGlzdG9yeS5wdXNoKHRoaXMuZ2V0QXR0cmlidXRlKCd1aWQnKSlcbiAgICAgICAgICAgIHV0aWxzLnNldExvY2FsU3RvcmFnZSgncmVhZC1oaXN0b3J5JywgcmVhZEhpc3RvcnkpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3VyZ2VudC1hbm5vdW5jZW1lbnQnLCB1cmdlbnRBbm5vdW5jZW1lbnQpIl19"}