{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/index.js","src/js/modules/schedule.mjs","src/js/modules/search.mjs","src/js/modules/utils.mjs"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import * as utils from './modules/utils.mjs'\nimport * as search from './modules/search.mjs'\nimport scheduleHandler from './modules/schedule.mjs'\n\n// Dashboard interaction with Timetable\nscheduleHandler()\n\n\n\n\n//menu \nconst menuIcon = document.getElementById('menu-icon')\nconst menu = document.getElementById('menu')\n\nif (utils.exists([menuIcon, menu])) {\n\n    //toggle menu (on mobile)\n    menuIcon.addEventListener('click', () => {\n        menu.classList.toggle('hide')\n    })\n}\n\n\n\n\n//search \nconst searchBar = document.getElementById('search-bar')\nconst searchResetIcon = document.getElementById('search-reset')\nconst searchIcon = document.querySelector('#search-container input[type=submit]')\n\nif (utils.exists([searchBar, searchResetIcon, searchIcon])) {\n\n    //control search-reset icon \n    searchBar.addEventListener('focus', () => search.showReset())\n    searchBar.addEventListener('blur', () => search.hideReset())\n\n\n    //reset search input\n    searchResetIcon.addEventListener('click', e => search.reset(e))\n\n\n    //depending on search-query either give focus to searchbar or submit search-query\n    searchIcon.addEventListener('click', e => {\n        if (searchBar.value === \"\") {\n            search.focus(e)\n        }\n    })\n\n\n    //listen to keyboard input\n    document.addEventListener('keypress', e => {\n        switch (e.key) {\n            case \"/\":\n                search.focus(e) //give searchbar focus and hide search-reset icon\n                break\n        }\n    })\n}","const scheduleMaster = document.querySelector('#schedule')\nconst scheduleContainer = scheduleMaster.querySelector('#schedules-container')\nconst dateElement = scheduleMaster.querySelector('#navigator span')\nconst previousSchedule = scheduleMaster.querySelector('#navigator img:first-of-type')\nconst nextSchedule = scheduleMaster.querySelector('#navigator img:last-of-type')\n\nexport default function scheduleHandler() {\n    let scheduleIndex = 0\n    arrowHandler(scheduleIndex)\n\n    previousSchedule.addEventListener('click', () => {\n        scheduleIndex--\n        arrowHandler(scheduleIndex)\n        renderSchedules(scheduleIndex)\n    })\n\n    nextSchedule.addEventListener('click', () => {\n        scheduleIndex++\n        arrowHandler(scheduleIndex)\n        renderSchedules(scheduleIndex)\n    })\n}\n\n\n// Helpers\nfunction renderSchedules(scheduleIndex) {\n    getSchedules()\n        .then(schedules => {\n            const schedule = schedules[scheduleIndex]\n            const divs = schedule.schedules.map(schedule => createScheduleItem(schedule))\n\n            dateElement.textContent = `${schedule.day}-${schedule.month}-${schedule.year}`\n\n            scheduleContainer.textContent = ''\n            divs.forEach(div => scheduleContainer.append(div))\n        })\n}\n\nfunction arrowHandler(index) {\n    index === 0 ? previousSchedule.classList.add('disabled') : previousSchedule.classList.remove('disabled')\n    index === 4 ? nextSchedule.classList.add('disabled') : nextSchedule.classList.remove('disabled')\n}\n\nfunction createScheduleItem(schedule) {\n    const schedule_time = `${schedule.startDateTime.time} - ${schedule.endDateTime.time}`\n    const schedule_coursename = schedule._links.courses[0].title\n    const schedule_teacher = schedule._links.lecturers[0].title\n\n    let schedule_room\n    schedule._embedded ? schedule_room = schedule._embedded.rooms[0].abbreviation : schedule_room = 'No room'\n\n    const div = document.createElement('div')\n    const time = document.createElement('p')\n    const coursename = document.createElement('p')\n    const room = document.createElement('p')\n    const teacher = document.createElement('p')\n\n    time.textContent = schedule_time\n    coursename.textContent = schedule_coursename\n    room.textContent = schedule_room\n    teacher.textContent = schedule_teacher\n\n    div.append(time)\n    div.append(coursename)\n    div.append(room)\n    div.append(teacher)\n\n    div.classList.add('schedule-course')\n\n    return div\n}\n\nconst options = {\n    method: 'GET',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n}\n\n// Data\nfunction getSchedules() {\n    return fetch('/schedule', options)\n        .then(res => res.json())\n}","const searchBar = document.getElementById('search-bar')\nconst searchResetIcon = document.getElementById('search-reset')\n\nexport function focus(e) {\n    e.preventDefault()\n    searchBar.focus()\n}\n\nexport function showReset() {\n    searchResetIcon.classList.remove('hide')\n}\n\nexport function hideReset() {\n    if (searchBar.value === \"\") {\n        searchResetIcon.classList.add('hide')\n    }\n}\n\nexport function reset(e) {\n    searchBar.value = \"\"\n    focus(e)\n}","export function exists([...variables]) {\n    const exists = variables.every(variable => variable != null)\n    return exists\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvaW5kZXguanMiLCJzcmMvanMvbW9kdWxlcy9zY2hlZHVsZS5tanMiLCJzcmMvanMvbW9kdWxlcy9zZWFyY2gubWpzIiwic3JjL2pzL21vZHVsZXMvdXRpbHMubWpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQ0FBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBO0FBQ0EsNEIsQ0FLQTs7QUFDQSxJQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixXQUF4QixDQUFqQjtBQUNBLElBQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFULENBQXdCLE1BQXhCLENBQWI7O0FBRUEsSUFBSSxLQUFLLENBQUMsTUFBTixDQUFhLENBQUMsUUFBRCxFQUFXLElBQVgsQ0FBYixDQUFKLEVBQW9DO0FBRWhDO0FBQ0EsRUFBQSxRQUFRLENBQUMsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsWUFBTTtBQUNyQyxJQUFBLElBQUksQ0FBQyxTQUFMLENBQWUsTUFBZixDQUFzQixNQUF0QjtBQUNILEdBRkQ7QUFHSCxDLENBS0Q7OztBQUNBLElBQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxjQUFULENBQXdCLFlBQXhCLENBQWxCO0FBQ0EsSUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsY0FBeEIsQ0FBeEI7QUFDQSxJQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixzQ0FBdkIsQ0FBbkI7O0FBRUEsSUFBSSxLQUFLLENBQUMsTUFBTixDQUFhLENBQUMsU0FBRCxFQUFZLGVBQVosRUFBNkIsVUFBN0IsQ0FBYixDQUFKLEVBQTREO0FBRXhEO0FBQ0EsRUFBQSxTQUFTLENBQUMsZ0JBQVYsQ0FBMkIsT0FBM0IsRUFBb0M7QUFBQSxXQUFNLE1BQU0sQ0FBQyxTQUFQLEVBQU47QUFBQSxHQUFwQztBQUNBLEVBQUEsU0FBUyxDQUFDLGdCQUFWLENB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TUFBOUI7QUFDSDtBQUNKOztBQUVNLFNBQVMsS0FBVCxDQUFlLENBQWYsRUFBa0I7QUFDckIsRUFBQSxTQUFTLENBQUMsS0FBVixHQUFrQixFQUFsQjtBQUNBLEVBQUEsS0FBSyxDQUFDLENBQUQsQ0FBTDtBQUNIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDckJNLFNBQVMsTUFBVCxPQUFnQztBQUFBO0FBQUEsTUFBWixTQUFZOztBQUNuQyxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsS0FBVixDQUFnQixVQUFBLFFBQVE7QUFBQSxXQUFJLFFBQVEsSUFBSSxJQUFoQjtBQUFBLEdBQXhCLENBQWY7QUFDQSxTQUFPLE1BQVA7QUFDSCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vbW9kdWxlcy91dGlscy5tanMnXG5pbXBvcnQgKiBhcyBzZWFyY2ggZnJvbSAnLi9tb2R1bGVzL3NlYXJjaC5tanMnXG5pbXBvcnQgc2NoZWR1bGVIYW5kbGVyIGZyb20gJy4vbW9kdWxlcy9zY2hlZHVsZS5tanMnXG5cbi8vIERhc2hib2FyZCBpbnRlcmFjdGlvbiB3aXRoIFRpbWV0YWJsZVxuc2NoZWR1bGVIYW5kbGVyKClcblxuXG5cblxuLy9tZW51IFxuY29uc3QgbWVudUljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudS1pY29uJylcbmNvbnN0IG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpXG5cbmlmICh1dGlscy5leGlzdHMoW21lbnVJY29uLCBtZW51XSkpIHtcblxuICAgIC8vdG9nZ2xlIG1lbnUgKG9uIG1vYmlsZSlcbiAgICBtZW51SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJylcbiAgICB9KVxufVxuXG5cblxuXG4vL3NlYXJjaCBcbmNvbnN0IHNlYXJjaEJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtYmFyJylcbmNvbnN0IHNlYXJjaFJlc2V0SWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtcmVzZXQnKVxuY29uc3Qgc2VhcmNoSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWFyY2gtY29udGFpbmVyIGlucHV0W3R5cGU9c3VibWl0XScpXG5cbmlmICh1dGlscy5leGlzdHMoW3NlYXJjaEJhciwgc2VhcmNoUmVzZXRJY29uLCBzZWFyY2hJY29uXSkpIHtcblxuICAgIC8vY29udHJvbCBzZWFyY2gtcmVzZXQgaWNvbiBcbiAgICBzZWFyY2hCYXIuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBzZWFyY2guc2hvd1Jlc2V0KCkpXG4gICAgc2VhcmNoQmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiBzZWFyY2guaGlkZVJlc2V0KCkpXG5cblxuICAgIC8vcmVzZXQgc2VhcmNoIGlucHV0XG4gICAgc2VhcmNoUmVzZXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiBzZWFyY2gucmVzZXQoZSkpXG5cblxuICAgIC8vZGVwZW5kaW5nIG9uIHNlYXJjaC1xdWVyeSBlaXRoZXIgZ2l2ZSBmb2N1cyB0byBzZWFyY2hiYXIgb3Igc3VibWl0IHNlYXJjaC1xdWVyeVxuICAgIHNlYXJjaEljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgaWYgKHNlYXJjaEJhci52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgc2VhcmNoLmZvY3VzKGUpXG4gICAgICAgIH1cbiAgICB9KVxuXG5cbiAgICAvL2xpc3RlbiB0byBrZXlib2FyZCBpbnB1dFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgXCIvXCI6XG4gICAgICAgICAgICAgICAgc2VhcmNoLmZvY3VzKGUpIC8vZ2l2ZSBzZWFyY2hiYXIgZm9jdXMgYW5kIGhpZGUgc2VhcmNoLXJlc2V0IGljb25cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgfSlcbn0iLCJjb25zdCBzY2hlZHVsZU1hc3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzY2hlZHVsZScpXG5jb25zdCBzY2hlZHVsZUNvbnRhaW5lciA9IHNjaGVkdWxlTWFzdGVyLnF1ZXJ5U2VsZWN0b3IoJyNzY2hlZHVsZXMtY29udGFpbmVyJylcbmNvbnN0IGRhdGVFbGVtZW50ID0gc2NoZWR1bGVNYXN0ZXIucXVlcnlTZWxlY3RvcignI25hdmlnYXRvciBzcGFuJylcbmNvbnN0IHByZXZpb3VzU2NoZWR1bGUgPSBzY2hlZHVsZU1hc3Rlci5xdWVyeVNlbGVjdG9yKCcjbmF2aWdhdG9yIGltZzpmaXJzdC1vZi10eXBlJylcbmNvbnN0IG5leHRTY2hlZHVsZSA9IHNjaGVkdWxlTWFzdGVyLnF1ZXJ5U2VsZWN0b3IoJyNuYXZpZ2F0b3IgaW1nOmxhc3Qtb2YtdHlwZScpXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNjaGVkdWxlSGFuZGxlcigpIHtcbiAgICBsZXQgc2NoZWR1bGVJbmRleCA9IDBcbiAgICBhcnJvd0hhbmRsZXIoc2NoZWR1bGVJbmRleClcblxuICAgIHByZXZpb3VzU2NoZWR1bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHNjaGVkdWxlSW5kZXgtLVxuICAgICAgICBhcnJvd0hhbmRsZXIoc2NoZWR1bGVJbmRleClcbiAgICAgICAgcmVuZGVyU2NoZWR1bGVzKHNjaGVkdWxlSW5kZXgpXG4gICAgfSlcblxuICAgIG5leHRTY2hlZHVsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc2NoZWR1bGVJbmRleCsrXG4gICAgICAgIGFycm93SGFuZGxlcihzY2hlZHVsZUluZGV4KVxuICAgICAgICByZW5kZXJTY2hlZHVsZXMoc2NoZWR1bGVJbmRleClcbiAgICB9KVxufVxuXG5cbi8vIEhlbHBlcnNcbmZ1bmN0aW9uIHJlbmRlclNjaGVkdWxlcyhzY2hlZHVsZUluZGV4KSB7XG4gICAgZ2V0U2NoZWR1bGVzKClcbiAgICAgICAgLnRoZW4oc2NoZWR1bGVzID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVkdWxlID0gc2NoZWR1bGVzW3NjaGVkdWxlSW5kZXhdXG4gICAgICAgICAgICBjb25zdCBkaXZzID0gc2NoZWR1bGUuc2NoZWR1bGVzLm1hcChzY2hlZHVsZSA9PiBjcmVhdGVTY2hlZHVsZUl0ZW0oc2NoZWR1bGUpKVxuXG4gICAgICAgICAgICBkYXRlRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3NjaGVkdWxlLmRheX0tJHtzY2hlZHVsZS5tb250aH0tJHtzY2hlZHVsZS55ZWFyfWBcblxuICAgICAgICAgICAgc2NoZWR1bGVDb250YWluZXIudGV4dENvbnRlbnQgPSAnJ1xuICAgICAgICAgICAgZGl2cy5mb3JFYWNoKGRpdiA9PiBzY2hlZHVsZUNvbnRhaW5lci5hcHBlbmQoZGl2KSlcbiAgICAgICAgfSlcbn1cblxuZnVuY3Rpb24gYXJyb3dIYW5kbGVyKGluZGV4KSB7XG4gICAgaW5kZXggPT09IDAgPyBwcmV2aW91c1NjaGVkdWxlLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJykgOiBwcmV2aW91c1NjaGVkdWxlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJylcbiAgICBpbmRleCA9PT0gNCA/IG5leHRTY2hlZHVsZS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpIDogbmV4dFNjaGVkdWxlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJylcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2NoZWR1bGVJdGVtKHNjaGVkdWxlKSB7XG4gICAgY29uc3Qgc2NoZWR1bGVfdGltZSA9IGAke3NjaGVkdWxlLnN0YXJ0RGF0ZVRpbWUudGltZX0gLSAke3NjaGVkdWxlLmVuZERhdGVUaW1lLnRpbWV9YFxuICAgIGNvbnN0IHNjaGVkdWxlX2NvdXJzZW5hbWUgPSBzY2hlZHVsZS5fbGlua3MuY291cnNlc1swXS50aXRsZVxuICAgIGNvbnN0IHNjaGVkdWxlX3RlYWNoZXIgPSBzY2hlZHVsZS5fbGlua3MubGVjdHVyZXJzWzBdLnRpdGxlXG5cbiAgICBsZXQgc2NoZWR1bGVfcm9vbVxuICAgIHNjaGVkdWxlLl9lbWJlZGRlZCA/IHNjaGVkdWxlX3Jvb20gPSBzY2hlZHVsZS5fZW1iZWRkZWQucm9vbXNbMF0uYWJicmV2aWF0aW9uIDogc2NoZWR1bGVfcm9vbSA9ICdObyByb29tJ1xuXG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBjb25zdCB0aW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgY29uc3QgY291cnNlbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgIGNvbnN0IHJvb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICBjb25zdCB0ZWFjaGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG5cbiAgICB0aW1lLnRleHRDb250ZW50ID0gc2NoZWR1bGVfdGltZVxuICAgIGNvdXJzZW5hbWUudGV4dENvbnRlbnQgPSBzY2hlZHVsZV9jb3Vyc2VuYW1lXG4gICAgcm9vbS50ZXh0Q29udGVudCA9IHNjaGVkdWxlX3Jvb21cbiAgICB0ZWFjaGVyLnRleHRDb250ZW50ID0gc2NoZWR1bGVfdGVhY2hlclxuXG4gICAgZGl2LmFwcGVuZCh0aW1lKVxuICAgIGRpdi5hcHBlbmQoY291cnNlbmFtZSlcbiAgICBkaXYuYXBwZW5kKHJvb20pXG4gICAgZGl2LmFwcGVuZCh0ZWFjaGVyKVxuXG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3NjaGVkdWxlLWNvdXJzZScpXG5cbiAgICByZXR1cm4gZGl2XG59XG5cbmNvbnN0IG9wdGlvbnMgPSB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9XG59XG5cbi8vIERhdGFcbmZ1bmN0aW9uIGdldFNjaGVkdWxlcygpIHtcbiAgICByZXR1cm4gZmV0Y2goJy9zY2hlZHVsZScsIG9wdGlvbnMpXG4gICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxufSIsImNvbnN0IHNlYXJjaEJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtYmFyJylcbmNvbnN0IHNlYXJjaFJlc2V0SWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtcmVzZXQnKVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXMoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIHNlYXJjaEJhci5mb2N1cygpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93UmVzZXQoKSB7XG4gICAgc2VhcmNoUmVzZXRJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZVJlc2V0KCkge1xuICAgIGlmIChzZWFyY2hCYXIudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgc2VhcmNoUmVzZXRJY29uLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0KGUpIHtcbiAgICBzZWFyY2hCYXIudmFsdWUgPSBcIlwiXG4gICAgZm9jdXMoZSlcbn0iLCJleHBvcnQgZnVuY3Rpb24gZXhpc3RzKFsuLi52YXJpYWJsZXNdKSB7XG4gICAgY29uc3QgZXhpc3RzID0gdmFyaWFibGVzLmV2ZXJ5KHZhcmlhYmxlID0+IHZhcmlhYmxlICE9IG51bGwpXG4gICAgcmV0dXJuIGV4aXN0c1xufSJdfQ=="}